{"version":3,"names":["data","getData","key","callback","getDateFormatter","timeZone","_","makeFormatter","hourCycle","year","month","day","hour","minute","locale","options","Intl","DateTimeFormat","resolvedOptions","config","clampDates","defaultLocale","defaultTimeZone","dateStringTimeZoneRegExp","formats","formatTokenRegExp","monthDays","offsetRegExp","parseOrderKeys","thresholds","week","second","compensateDiff","date","other","amount","compensate","compensation","Math","floor","ceil","getOffset","getTimeZone","utcString","format","localString","Date","getOffsetTime","getTime","getTimeZoneOffset","modify","timeUnit","toLowerCase","setTime","setDate","getDate","setMonth","getMonth","setYear","getYear","Error","parseCompare","formatString","dateString","i","char","setOffsetTime","time","oldOffset","newTime","newDate","offset","getDayPeriods","type","dayPeriodFormatter","Array","fill","map","index","formatToParts","UTC","find","part","value","getDays","standalone","dayFormatter","weekday","getEras","eraFormatter","era","getMonths","monthFormatter","getNumbers","numberFormatter","numberRegExp","join","formatDay","formatMonth","formatNumber","number","padding","numbers","padStart","replace","match","formatOffset","useColon","optionalMinutes","hours","abs","minutes","sign","hourString","minuteString","DateTime","constructor","timestamp","adjustOffset","now","isNaN","parseInt","isFinite","parse","getTimezoneOffset","this","_date","_dynamicTz","isValid","includes","_offset","_timeZone","_locale","getLocale","setLocale","setTimeZone","setTimeZoneOffset","valueOf","Symbol","toPrimitive","hint","toString","weekStart","minDaysInFirstWeek","getType","length","minimumDays","minDays","localeTest","split","days","hasOwnProperty","call","pop","weekDay","weekStarted","start","weekStartOffset","parseDay","indexOf","parseMonth","parseNumber","tokens","G","maxLength","regex","input","parseEra","output","datetime","y","slice","Y","getWeekYear","Q","getQuarter","q","M","L","w","getWeek","W","getWeekOfMonth","d","D","getDayOfYear","F","getWeekDayInMonth","E","getDay","e","getWeekDay","c","a","parseDayPeriod","dayPeriod","h","getHours","H","K","k","m","getMinutes","s","getSeconds","S","getMilliseconds","padEnd","z","timeZoneName","Z","prefix","O","V","X","x","dayOfYear","reduce","daysInMonth","getUTCMonth","isLeapYear","getUTCFullYear","daysInYear","_daysInMonth","_daysInYear","fromArray","dateArray","dateValues","timeValues","push","setTimestamp","setHours","fromDate","fromFormat","values","token","position","substring","literal","regExp","matchedValue","RegExp","fromTimestamp","methods","isPM","lastAM","get","set","setDayOfYear","hours12","hours24","milliseconds","setMilliseconds","setMinutes","quarter","setQuarter","seconds","setSeconds","setWeek","setWeekDay","weekDayInMonth","setWeekDayInMonth","weekOfMonth","setWeekOfMonth","weekYear","setWeekYear","parseFactory","testValues","subKeys","subKey","fullToken","repeat","fromISOString","getDefaultLocale","getDefaultTimeZone","_isLeapYear","setDateClamping","setDefaultLocale","setDefaultTimeZone","proto","prototype","add","dayName","period","formatDayPeriod","diff","relative","yearDiff","monthDiff","weekDiff","dayDiff","hourDiff","minuteDiff","secondDiff","endOf","formatEra","getUTCDate","getUTCDay","getUTCHours","getUTCMilliseconds","getUTCMinutes","getUTCSeconds","getTimestamp","thisWeek","startOf","firstWeek","first","humanDiff","relativeFormatter","RelativeTimeFormat","numeric","style","lastResult","relativeDiff","getBiggestDiff","isAfter","granularity","isBefore","isBetween","end","isDST","dateA","dateB","max","isSame","isSameOrAfter","isSameOrBefore","monthName","setUTCDate","setDay","setUTCMonth","args","setUTCHours","setUTCMilliseconds","setUTCMinutes","min","setUTCSeconds","weeksInYear","setUTCFullYear","sub","formatTimeZoneName","toDateString","toISOString","toTimeString","toUTCString"],"sources":["../src/factory.js","../src/vars.js","../src/helpers.js","../src/formatter/values.js","../src/formatter/format.js","../src/date-time.js","../src/formatter/locales.js","../src/formatter/utility.js","../src/formatter/parse.js","../src/formatter/tokens.js","../src/static/utility.js","../src/index.js","../src/static/create.js","../src/prototype/manipulate.js","../src/prototype/utility.js","../src/prototype/output.js","../src/prototype/attributes-get.js","../src/prototype/attributes-set.js"],"sourcesContent":["/**\n * DateTime Factory\n */\n\nconst data = {};\n\n/**\n * Get values from cache (or generate if they don't exist).\n * @param {string} key The key for the values.\n * @param {function} callback The callback to generate the values.\n * @return {array} The cached values.\n */\nexport function getData(key, callback) {\n    if (!(key in data)) {\n        data[key] = callback();\n    }\n\n    return data[key];\n};\n\n/**\n * Create a new date formatter for a timeZone.\n * @param {string} timeZone The timeZone.\n * @param {object} options The options for the formatter.\n * @return {Intl.DateTimeFormat} A new DateTimeFormat object.\n */\nexport function getDateFormatter(timeZone) {\n    return getData(\n        `dateFormatter.${timeZone}`,\n        (_) => makeFormatter('en', {\n            timeZone,\n            hourCycle: 'h23',\n            year: 'numeric',\n            month: 'numeric',\n            day: 'numeric',\n            hour: 'numeric',\n            minute: 'numeric',\n        }),\n    );\n};\n\n/**\n * Create a new relative formatter for a locale.\n * @param {string} locale The locale.\n * @param {object} options The options for the formatter.\n * @return {Intl.RelativeTimeFormat} A new RelativeTimeFormat object.\n */\nexport function getRelativeFormatter(locale) {\n    if (!('RelativeTimeFormat' in Intl)) {\n        return null;\n    }\n\n    return getData(\n        `relativeFormatter.${locale}`,\n        (_) => new Intl.RelativeTimeFormat(locale, {\n            numeric: 'auto',\n            style: 'long',\n        }),\n    );\n};\n\n/**\n * Create a new formatter for a locale.\n * @param {string} locale The locale.\n * @param {object} options The options for the formatter.\n * @return {Intl.DateTimeFormat} A new DateTimeFormat object.\n */\nexport function makeFormatter(locale, options) {\n    return new Intl.DateTimeFormat(locale, {\n        timeZone: 'UTC',\n        ...options,\n    });\n};\n","/**\n * DateTime Variables\n */\n\nconst resolvedOptions = (new Intl.DateTimeFormat).resolvedOptions();\n\nexport const config = {\n    clampDates: true,\n    defaultLocale: resolvedOptions.locale,\n    defaultTimeZone: resolvedOptions.timeZone,\n};\n\nexport const dateStringTimeZoneRegExp = /\\s(?:UTC|GMT|Z|[\\+\\-]\\d)|\\d{4}\\-\\d{2}\\-\\d{2}T\\d{2}\\:\\d{2}\\:\\d{2}\\.\\d{3}[\\+\\-]\\d{2}\\:\\d{2}/i;\n\nexport const formats = {\n    date: 'eee MMM dd yyyy',\n    rfc3339_extended: `yyyy-MM-dd'T'HH:mm:ss.SSSxxx`,\n    string: 'eee MMM dd yyyy HH:mm:ss xx (VV)',\n    time: 'HH:mm:ss xx (VV)',\n};\n\nexport const formatTokenRegExp = /([a-z])\\1*|'[^']*'/i;\n\nexport const monthDays = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\n\nexport const offsetRegExp = /(?:GMT)?([\\+\\-])(\\d{2})(\\:?)(\\d{2})?/;\n\nexport const parseOrderKeys = [\n    ['year', 'weekYear'],\n    ['era'],\n    ['quarter', 'month', 'week', 'dayOfYear'],\n    ['weekOfMonth'],\n    ['date', 'weekDay'],\n    ['weekDayInMonth'],\n    ['hours24', 'hours12', 'dayPeriod'],\n    ['minutes', 'seconds', 'milliseconds'],\n];\n\nexport const thresholds = {\n    month: 12,\n    week: null,\n    day: 7,\n    hour: 24,\n    minute: 60,\n    second: 60,\n};\n","import { getDateFormatter } from './factory.js';\nimport { thresholds } from './vars.js';\n\n/**\n * DateTime Helpers\n */\n\n/**\n * Compensate the difference between two dates.\n * @param {DateTime} date The DateTime.\n * @param {DateTime} other The DateTime to compare to.\n * @param {number} amount The amount to compensate.\n * @param {Boolean} [compensate=true] Whether to compensate the amount.\n * @param {number} [compensation=1] The compensation offset.\n * @return {number} The compensated amount.\n */\nexport function compensateDiff(date, other, amount, compensate = true, compensation = 1) {\n    if (amount > 0) {\n        amount = Math.floor(amount);\n\n        if (compensate && date < other) {\n            amount += compensation;\n        }\n    } else if (amount < 0) {\n        amount = Math.ceil(amount);\n\n        if (compensate && date > other) {\n            amount -= compensation;\n        }\n    }\n\n    return amount;\n};\n\n/**\n * Get the biggest difference between two dates.\n * @param {DateTime} date The DateTime.\n * @param {DateTime} [other] The DateTime to compare to.\n * @return {array} The biggest difference (amount and time unit).\n */\nexport function getBiggestDiff(date, other) {\n    let lastResult;\n    for (const timeUnit of ['year', 'month', 'week', 'day', 'hour', 'minute', 'second']) {\n        const relativeDiff = date.diff(other, { timeUnit });\n        if (lastResult && thresholds[timeUnit] && Math.abs(relativeDiff) >= thresholds[timeUnit]) {\n            return lastResult;\n        }\n\n        const actualDiff = date.diff(other, { timeUnit, relative: false });\n        if (actualDiff) {\n            return [relativeDiff, timeUnit];\n        }\n\n        if (relativeDiff) {\n            lastResult = [relativeDiff, timeUnit];\n        } else {\n            lastResult = null;\n        }\n    }\n\n    return lastResult ?\n        lastResult :\n        [0, 'second'];\n};\n\n/**\n * Get the offset for a DateTime.\n * @param {DateTime} date The DateTime.\n * @return {number} The offset.\n */\nexport function getOffset(date) {\n    const timeZone = date.getTimeZone();\n\n    if (timeZone === 'UTC') {\n        return 0;\n    }\n\n    const utcString = getDateFormatter('UTC').format(date);\n    const localString = getDateFormatter(timeZone).format(date);\n\n    return (new Date(utcString) - new Date(localString)) / 60000;\n};\n\n/**\n * Get the number of milliseconds since the UNIX epoch (offset to timeZone).\n * @param {DateTime} date The DateTime.\n * @return {number} The number of milliseconds since the UNIX epoch (offset to timeZone).\n */\nexport function getOffsetTime(date) {\n    return date.getTime() - (date.getTimeZoneOffset() * 60000);\n};\n\n/**\n * Modify a DateTime by a duration.\n * @param {DateTime} date The DateTime.\n * @param {number} amount The amount to modify the date by.\n * @param {string} [timeUnit] The unit of time.\n * @return {DateTime} The DateTime object.\n */\nexport function modify(date, amount, timeUnit) {\n    timeUnit = timeUnit.toLowerCase();\n\n    switch (timeUnit) {\n        case 'second':\n        case 'seconds':\n            return date.setTime(\n                date.getTime() + (amount * 1000),\n            );\n        case 'minute':\n        case 'minutes':\n            return date.setTime(\n                date.getTime() + (amount * 60000),\n            );\n        case 'hour':\n        case 'hours':\n            return date.setTime(\n                date.getTime() + (amount * 3600000),\n            );\n        case 'week':\n        case 'weeks':\n            return date.setDate(\n                date.getDate() + (amount * 7),\n            );\n        case 'day':\n        case 'days':\n            return date.setDate(\n                date.getDate() + amount,\n            );\n        case 'month':\n        case 'months':\n            return date.setMonth(\n                date.getMonth() + amount,\n            );\n        case 'year':\n        case 'years':\n            return date.setYear(\n                date.getYear() + amount,\n            );\n        default:\n            throw new Error('Invalid time unit supplied');\n    }\n};\n\n/**\n * Compare a literal format string with a date string.\n * @param {string} formatString The literal format string.\n * @param {string} dateString The date string.\n */\nexport function parseCompare(formatString, dateString) {\n    let i = 0;\n    for (const char of formatString) {\n        if (char !== dateString[i]) {\n            throw new Error(`Unmatched character in DateTime string: ${char}`);\n        }\n\n        i++;\n    }\n};\n\n/**\n * Generate methods for parsing a date.\n * @return {object} An object containing date parsing methods.\n */\nexport function parseFactory() {\n    let isPM = false;\n    let lastAM = true;\n\n    return {\n        date: {\n            get: (datetime) => datetime.getDate(),\n            set: (datetime, value) => datetime.setDate(value),\n        },\n        dayPeriod: {\n            get: (datetime) => datetime.getHours() < 12 ? 0 : 1,\n            set: (datetime, value) => {\n                isPM = value;\n                let hours = value ? 12 : 0;\n                if (lastAM) {\n                    hours += datetime.getHours();\n                }\n                return datetime.setHours(hours);\n            },\n        },\n        dayOfYear: {\n            get: (datetime) => datetime.getDayOfYear(),\n            set: (datetime, value) => datetime.setDayOfYear(value),\n        },\n        era: {\n            get: (datetime) => datetime.getYear() < 1 ? 0 : 1,\n            set: (datetime, value) => {\n                const offset = value ? 1 : -1;\n                return datetime.setYear(\n                    datetime.getYear() * offset,\n                );\n            },\n        },\n        hours12: {\n            get: (datetime) => datetime.getHours() % 12,\n            set: (datetime, value) => {\n                if (isPM) {\n                    value += 12;\n                }\n                lastAM = true;\n                return datetime.setHours(value);\n            },\n        },\n        hours24: {\n            get: (datetime) => datetime.getHours(),\n            set: (datetime, value) => {\n                lastAM = false;\n                return datetime.setHours(value);\n            },\n        },\n        milliseconds: {\n            get: (datetime) => datetime.getMilliseconds(),\n            set: (datetime, value) => datetime.setMilliseconds(value),\n        },\n        minutes: {\n            get: (datetime) => datetime.getMinutes(),\n            set: (datetime, value) => datetime.setMinutes(value),\n        },\n        month: {\n            get: (datetime) => datetime.getMonth(),\n            set: (datetime, value) => datetime.setMonth(value),\n        },\n        quarter: {\n            get: (datetime) => datetime.getQuarter(),\n            set: (datetime, value) => datetime.setQuarter(value),\n        },\n        seconds: {\n            get: (datetime) => datetime.getSeconds(),\n            set: (datetime, value) => datetime.setSeconds(value),\n        },\n        week: {\n            get: (datetime) => datetime.getWeek(),\n            set: (datetime, value) => datetime.setWeek(value),\n        },\n        weekDay: {\n            get: (datetime) => datetime.getWeekDay(),\n            set: (datetime, value) => datetime.setWeekDay(value),\n        },\n        weekDayInMonth: {\n            get: (datetime) => datetime.getWeekDayInMonth(),\n            set: (datetime, value) => datetime.setWeekDayInMonth(value),\n        },\n        weekOfMonth: {\n            get: (datetime) => datetime.getWeekOfMonth(),\n            set: (datetime, value) => datetime.setWeekOfMonth(value),\n        },\n        weekYear: {\n            get: (datetime) => datetime.getWeekYear(),\n            set: (datetime, value) => datetime.setWeekYear(value),\n        },\n        year: {\n            get: (datetime) => {\n                const year = datetime.getYear();\n                return Math.abs(year);\n            },\n            set: (datetime, value) => datetime.setYear(value),\n        },\n    };\n};\n\n/**\n * Set the number of milliseconds since the UNIX epoch (offset to timeZone).\n * @param {DateTime} date The DateTime.\n * @param {number} time The number of milliseconds since the UNIX epoch (offset to timeZone).\n * @return {DateTime} The DateTime object.\n */\nexport function setOffsetTime(date, time) {\n    const oldOffset = date.getTimeZoneOffset();\n\n    const newTime = time + (oldOffset * 60000);\n    const newDate = date.setTime(newTime);\n\n    const offset = newDate.getTimeZoneOffset();\n\n    if (oldOffset === offset) {\n        return newDate;\n    }\n\n    // compensate for DST transitions\n    return newDate.setTime(newTime - ((oldOffset - offset) * 60000));\n};\n","import { getData, makeFormatter } from './../factory.js';\n\n/**\n * DateFormatter Values\n */\n\n/**\n * Get cached day period values.\n * @param {string} locale The locale.\n * @param {string} [type=long] The formatting type.\n * @return {array} The cached values.\n */\nexport function getDayPeriods(locale, type = 'long') {\n    return getData(\n        `periods.${locale}.${type}`,\n        (_) => {\n            const dayPeriodFormatter = makeFormatter(locale, { hour: 'numeric', hourCycle: 'h11' });\n            return new Array(2)\n                .fill()\n                .map((_, index) =>\n                    dayPeriodFormatter.formatToParts(Date.UTC(2018, 0, 1, index * 12))\n                        .find((part) => part.type === 'dayPeriod')\n                        .value,\n                );\n        },\n    );\n};\n\n/**\n * Get cached day values.\n * @param {string} locale The locale.\n * @param {string} [type=long] The formatting type.\n * @param {Boolean} [standalone=true] Whether the values are standalone.\n * @return {array} The cached values.\n */\nexport function getDays(locale, type = 'long', standalone = true) {\n    return getData(\n        `days.${locale}.${type}.${standalone}`,\n        (_) => {\n            if (standalone) {\n                const dayFormatter = makeFormatter(locale, { weekday: type });\n                return new Array(7)\n                    .fill()\n                    .map((_, index) =>\n                        dayFormatter.format(Date.UTC(2018, 0, index)),\n                    );\n            }\n\n            const dayFormatter = makeFormatter(locale, { year: 'numeric', month: 'numeric', day: 'numeric', weekday: type });\n            return new Array(7)\n                .fill()\n                .map((_, index) =>\n                    dayFormatter.formatToParts(Date.UTC(2018, 0, index))\n                        .find((part) => part.type === 'weekday')\n                        .value,\n                );\n        },\n    );\n};\n\n/**\n * Get cached era values.\n * @param {string} locale The locale.\n * @param {string} [type=long] The formatting type.\n * @return {array} The cached values.\n */\nexport function getEras(locale, type = 'long') {\n    return getData(\n        `eras.${locale}.${type}`,\n        (_) => {\n            const eraFormatter = makeFormatter(locale, { era: type });\n            return new Array(2)\n                .fill()\n                .map((_, index) =>\n                    eraFormatter.formatToParts(Date.UTC(index - 1, 0, 1))\n                        .find((part) => part.type === 'era')\n                        .value,\n                );\n        },\n    );\n};\n\n/**\n * Get cached month values.\n * @param {string} locale The locale.\n * @param {string} [type=long] The formatting type.\n * @param {Boolean} [standalone=true] Whether the values are standalone.\n * @return {array} The cached values.\n */\nexport function getMonths(locale, type = 'long', standalone = true) {\n    return getData(\n        `months.${locale}.${type}.${standalone}`,\n        (_) => {\n            if (standalone) {\n                const monthFormatter = makeFormatter(locale, { month: type });\n                return new Array(12)\n                    .fill()\n                    .map((_, index) =>\n                        monthFormatter.format(Date.UTC(2018, index, 1)),\n                    );\n            }\n\n            const monthFormatter = makeFormatter(locale, { year: 'numeric', month: type, day: 'numeric' });\n            return new Array(12)\n                .fill()\n                .map((_, index) =>\n                    monthFormatter.formatToParts(Date.UTC(2018, index, 1))\n                        .find((part) => part.type === 'month')\n                        .value,\n                );\n        },\n    );\n};\n\n/**\n * Get cached number values.\n * @param {string} locale The locale.\n * @return {array} The cached values.\n */\nexport function getNumbers(locale) {\n    return getData(\n        `numbers.${locale}`,\n        (_) => {\n            const numberFormatter = makeFormatter(locale, { minute: 'numeric' });\n            return new Array(10)\n                .fill()\n                .map((_, index) =>\n                    numberFormatter.format(Date.UTC(2018, 0, 1, 0, index)),\n                );\n        },\n    );\n};\n\n/**\n * Get the RegExp for the number values.\n * @param {string} locale The locale.\n * @return {string} The number values RegExp.\n */\nexport function numberRegExp(locale) {\n    const numbers = getNumbers(locale).join('|');\n    return `(?:${numbers})+`;\n};\n","import { makeFormatter } from './../factory.js';\nimport { getDayPeriods, getDays, getEras, getMonths, getNumbers } from './values.js';\n\n/**\n * Format a day as a locale string.\n * @param {string} locale The locale.\n * @param {number} day The day to format (0-6).\n * @param {string} [type=long] The formatting type.\n * @param {Boolean} [standalone=true] Whether the value is standalone.\n * @return {string} The formatted string.\n */\nexport function formatDay(locale, day, type = 'long', standalone = true) {\n    return getDays(locale, type, standalone)[day];\n};\n\n/**\n * Format a day period as a locale string.\n * @param {string} locale The locale.\n * @param {number} period The period to format (0-1).\n * @param {string} [type=long] The formatting type.\n * @return {string} The formatted string.\n */\nexport function formatDayPeriod(locale, period, type = 'long') {\n    return getDayPeriods(locale, type)[period];\n};\n\n/**\n * Format an era as a locale string.\n * @param {string} locale The locale.\n * @param {number} era The period to format (0-1).\n * @param {string} [type=long] The formatting type.\n * @return {string} The formatted string.\n */\nexport function formatEra(locale, era, type = 'long') {\n    return getEras(locale, type)[era];\n};\n\n/**\n * Format a month as a locale string.\n * @param {string} locale The locale.\n * @param {number} month The month to format (1-12).\n * @param {string} [type=long] The formatting type.\n * @param {Boolean} [standalone=true] Whether the value is standalone.\n * @return {string} The formatted string.\n */\nexport function formatMonth(locale, month, type = 'long', standalone = true) {\n    return getMonths(locale, type, standalone)[month - 1];\n};\n\n/**\n * Format a number as a locale number string.\n * @param {string} locale The locale.\n * @param {number} number The number to format.\n * @param {number} [padding=0] The amount of padding to use.\n * @return {string} The formatted string.\n */\nexport function formatNumber(locale, number, padding = 0) {\n    const numbers = getNumbers(locale);\n    return `${number}`\n        .padStart(padding, 0)\n        .replace(/\\d/g, (match) => numbers[match]);\n};\n\n/**\n * Format a number to an offset string.\n * @param {number} offset The offset to format.\n * @param {Boolean} [useColon=true] Whether to use a colon seperator.\n * @param {Boolean} [optionalMinutes=false] Whether minutes are optional.\n * @return {string} The formatted offset string.\n */\nexport function formatOffset(offset, useColon = true, optionalMinutes = false) {\n    const hours = Math.abs(\n        (offset / 60) | 0,\n    );\n    const minutes = Math.abs(offset % 60);\n\n    const sign = offset > 0 ?\n        '-' :\n        '+';\n    const hourString = `${hours}`.padStart(2, 0);\n    const minuteString = minutes || !optionalMinutes ?\n        `${minutes}`.padStart(2, 0) :\n        '';\n    const colon = useColon && minuteString ?\n        ':' :\n        '';\n\n    return `${sign}${hourString}${colon}${minuteString}`;\n};\n\n/**\n * Format a time zone as a locale string.\n * @param {string} locale The locale.\n * @param {number} timestamp The timestamp to use.\n * @param {string} timeZone The time zone to format.\n * @param {string} [type=long] The formatting type.\n * @return {string} The formatted string.\n */\nexport function formatTimeZoneName(locale, timestamp, timeZone, type = 'long') {\n    return makeFormatter(locale, { second: 'numeric', timeZone, timeZoneName: type })\n        .formatToParts(timestamp)\n        .find((part) => part.type === 'timeZoneName')\n        .value;\n};\n","import { getOffset } from './helpers.js';\nimport { config, dateStringTimeZoneRegExp, offsetRegExp } from './vars.js';\nimport { formatOffset } from './formatter/format.js';\n\n/**\n * DateTime class\n * @class\n */\nexport default class DateTime {\n    /**\n     * New DateTime constructor.\n     * @param {string|number|null} [date] The date or timestamp to parse.\n     * @param {object} [options] Options for the new DateTime.\n     * @param {string} [options.timeZone] The timeZone to use.\n     * @param {string} [options.locale] The locale to use.\n     */\n    constructor(date = null, options = {}) {\n        let timestamp;\n        let adjustOffset = false;\n\n        if (date === null) {\n            timestamp = Date.now();\n        } else if (!isNaN(parseInt(date)) && isFinite(date)) {\n            timestamp = date;\n        } else if (date === `${date}`) {\n            timestamp = Date.parse(date);\n\n            if (isNaN(timestamp)) {\n                throw new Error('Invalid date string supplied');\n            }\n\n            if (!date.match(dateStringTimeZoneRegExp)) {\n                timestamp -= new Date()\n                    .getTimezoneOffset() *\n                    60000;\n            }\n\n            adjustOffset = true;\n        } else {\n            throw new Error('Invalid date supplied');\n        }\n\n        this._date = new Date(timestamp);\n        this._dynamicTz = false;\n        this.isValid = true;\n\n        let timeZone = options.timeZone;\n\n        if (!timeZone) {\n            timeZone = config.defaultTimeZone;\n        }\n\n        if (['Z', 'GMT'].includes(timeZone)) {\n            timeZone = 'UTC';\n        }\n\n        const match = timeZone.match(offsetRegExp);\n        if (match) {\n            this._offset = match[2] * 60 + parseInt(match[4] || 0);\n            if (this._offset && match[1] === '+') {\n                this._offset *= -1;\n            }\n\n            if (this._offset) {\n                this._timeZone = formatOffset(this._offset);\n            } else {\n                this._dynamicTz = true;\n                this._timeZone = 'UTC';\n            }\n        } else {\n            this._dynamicTz = true;\n            this._timeZone = timeZone;\n        }\n\n        if (this._dynamicTz) {\n            this._offset = getOffset(this);\n        }\n\n        if (adjustOffset && this._offset) {\n            const oldOffset = this._offset;\n\n            this._date.setTime(this.getTime() + this._offset * 60000);\n\n            if (this._dynamicTz) {\n                this._offset = getOffset(this);\n\n                // compensate for DST transitions\n                if (oldOffset !== this._offset) {\n                    this._date.setTime(this.getTime() - ((oldOffset - offset) * 60000));\n                }\n            }\n        }\n\n        if (!('locale' in options)) {\n            options.locale = config.defaultLocale;\n        }\n\n        this._locale = options.locale;\n    }\n\n    /**\n     * Get the name of the current locale.\n     * @return {string} The name of the current locale.\n     */\n    getLocale() {\n        return this._locale;\n    }\n\n    /**\n     * Get the number of milliseconds since the UNIX epoch.\n     * @return {number} The number of milliseconds since the UNIX epoch.\n     */\n    getTime() {\n        return this._date.getTime();\n    }\n\n    /**\n     * Get the name of the current timeZone.\n     * @return {string} The name of the current timeZone.\n     */\n    getTimeZone() {\n        return this._timeZone;\n    }\n\n    /**\n     * Get the UTC offset (in minutes) of the current timeZone.\n     * @return {number} The UTC offset (in minutes) of the current timeZone.\n     */\n    getTimeZoneOffset() {\n        return this._offset;\n    }\n\n    /**\n     * Set the current locale.\n     * @param {string} locale The name of the timeZone.\n     * @return {DateTime} The DateTime object.\n     */\n    setLocale(locale) {\n        return new DateTime(this.getTime(), {\n            locale,\n            timeZone: this._timeZone,\n        });\n    }\n\n    /**\n     * Set the number of milliseconds since the UNIX epoch.\n     * @param {number} time The number of milliseconds since the UNIX epoch.\n     * @return {DateTime} The DateTime object.\n     */\n    setTime(time) {\n        return new DateTime(time, {\n            locale: this._locale,\n            timeZone: this._timeZone,\n        });\n    }\n\n    /**\n     * Set the current timeZone.\n     * @param {string} timeZone The name of the timeZone.\n     * @return {DateTime} The DateTime object.\n     */\n    setTimeZone(timeZone) {\n        return new DateTime(this.getTime(), {\n            locale: this._locale,\n            timeZone,\n        });\n    }\n\n    /**\n     * Set the current UTC offset.\n     * @param {number} offset The UTC offset (in minutes).\n     * @return {DateTime} The DateTime object.\n     */\n    setTimeZoneOffset(offset) {\n        return new DateTime(this.getTime(), {\n            locale: this._locale,\n            timeZone: formatOffset(offset),\n        });\n    }\n\n    /**\n     * Get the number of milliseconds since the UNIX epoch.\n     * @return {number} The number of milliseconds since the UNIX epoch.\n     */\n    valueOf() {\n        return this.getTime();\n    }\n\n    /**\n     * Return a primitive value of the DateTime.\n     * @param {string} hint The type hint.\n     * @return {string|number}\n     */\n    [Symbol.toPrimitive](hint) {\n        return hint === 'number' ?\n            this.valueOf() :\n            this.toString();\n    }\n}\n","export const weekStart = { '1': ['af', 'am', 'ar-il', 'ar-sa', 'ar-ye', 'as', 'bn', 'bo', 'brx', 'ccp', 'ceb', 'chr', 'dav', 'dz', 'ebu', 'en', 'fil', 'gu', 'guz', 'haw', 'he', 'hi', 'id', 'ii', 'ja', 'jv', 'kam', 'ki', 'kln', 'km', 'kn', 'ko', 'kok', 'ks', 'lkt', 'lo', 'luo', 'luy', 'mas', 'mer', 'mgh', 'ml', 'mr', 'mt', 'my', 'nd', 'ne', 'om', 'or', 'pa', 'ps-pk', 'pt', 'qu', 'saq', 'sd', 'seh', 'sn', 'ta', 'te', 'th', 'ti', 'ug', 'ur', 'xh', 'yue', 'zh', 'zu'], '7': ['ar', 'ckb', 'en-ae', 'en-sd', 'fa', 'kab', 'lrc', 'mzn', 'ps'] };\nexport const minDaysInFirstWeek = { '4': ['ast', 'bg', 'br', 'ca', 'ce', 'cs', 'cy', 'da', 'de', 'dsb', 'el', 'en-at', 'en-be', 'en-ch', 'en-de', 'en-dk', 'en-fi', 'en-fj', 'en-gb', 'en-gg', 'en-gi', 'en-ie', 'en-im', 'en-je', 'en-nl', 'en-se', 'es', 'et', 'eu', 'fi', 'fo', 'fr', 'fur', 'fy', 'ga', 'gd', 'gl', 'gsw', 'gv', 'hsb', 'hu', 'is', 'it', 'ksh', 'kw', 'lb', 'lt', 'nb', 'nds', 'nl', 'nn', 'os-ru', 'pl', 'pt-ch', 'pt-lu', 'pt-pt', 'rm', 'ru', 'sah', 'se', 'sk', 'smn', 'sv', 'tt', 'wae'] };\n","import { minDaysInFirstWeek, weekStart } from './locales.js';\nimport { getData } from './../factory.js';\n\n/**\n * Get the formatting type from the component token length.\n * @param {number} length The component token length.\n * @return {string} The formatting type.\n */\nexport function getType(length) {\n    switch (length) {\n        case 5:\n            return 'narrow';\n        case 4:\n            return 'long';\n        default:\n            return 'short';\n    }\n};\n\n/**\n * Get the minimum days.\n * @param {string} locale The locale.\n * @return {number} The minimum days.\n */\nexport function minimumDays(locale) {\n    return getData(\n        `minimumDays.${locale}`,\n        (_) => {\n            let minDays = 1;\n            const localeTest = locale.toLowerCase().split('-');\n            while (minDays === 1 && localeTest.length) {\n                for (const days in minDaysInFirstWeek) {\n                    if (!{}.hasOwnProperty.call(minDaysInFirstWeek, days)) {\n                        continue;\n                    }\n\n                    const locales = minDaysInFirstWeek[days];\n\n                    if (locales.includes(localeTest.join('-'))) {\n                        minDays = parseInt(days);\n                        break;\n                    }\n                }\n\n                localeTest.pop();\n            }\n\n            return minDays;\n        },\n    );\n};\n\n/**\n * Get the week start offset for a locale.\n * @param {string} [locale] The locale to load.\n * @return {number} The week start offset.\n */\nfunction weekStartOffset(locale) {\n    return getData(\n        `weekStartOffset.${locale}`,\n        (_) => {\n            let weekStarted;\n            const localeTest = locale.toLowerCase().split('-');\n            while (!weekStarted && localeTest.length) {\n                for (const start in weekStart) {\n                    if (!{}.hasOwnProperty.call(weekStart, start)) {\n                        continue;\n                    }\n\n                    const locales = weekStart[start];\n\n                    if (locales.includes(localeTest.join('-'))) {\n                        weekStarted = parseInt(start);\n                        break;\n                    }\n                }\n\n                localeTest.pop();\n            }\n\n            return weekStarted ?\n                weekStarted - 2 :\n                0;\n        },\n    );\n};\n\n/**\n * Convert a day of the week to a local format.\n * @param {string} locale The locale.\n * @param {number} day The day of the week.\n * @return {number} The local day of the week.\n */\nexport function weekDay(locale, day) {\n    return (7 + parseInt(day) - weekStartOffset(locale)) % 7 || 7;\n};\n","import { getDayPeriods, getDays, getEras, getMonths, getNumbers } from './values.js';\nimport { weekDay } from './utility.js';\n\n/**\n * Parse a day from a locale string.\n * @param {string} locale The locale.\n * @param {string} value The value to parse.\n * @param {string} [type=long] The formatting type.\n * @param {Boolean} [standalone=true] Whether the value is standalone.\n * @return {number} The day number (0-6).\n */\nexport function parseDay(locale, value, type = 'long', standalone = true) {\n    const day = getDays(locale, type, standalone).indexOf(value) || 7;\n    return weekDay(locale, day);\n};\n\n/**\n * Parse a day period from a locale string.\n * @param {string} locale The locale.\n * @param {string} value The value to parse.\n * @param {string} [type=long] The formatting type.\n * @return {number} The day period (0-1).\n */\nexport function parseDayPeriod(locale, value, type = 'long') {\n    return getDayPeriods(locale, type).indexOf(value);\n};\n\n/**\n * Parse an era from a locale string.\n * @param {string} locale The locale.\n * @param {string} value The value to parse.\n * @param {string} [type=long] The formatting type.\n * @return {number} The era (0-1).\n */\nexport function parseEra(locale, value, type = 'long') {\n    return getEras(locale, type).indexOf(value);\n};\n\n/**\n * Parse a month from a locale string.\n * @param {string} locale The locale.\n * @param {string} value The value to parse.\n * @param {string} [type=long] The formatting type.\n * @param {Boolean} [standalone=true] Whether the value is standalone.\n * @return {number} The month number (1-12).\n */\nexport function parseMonth(locale, value, type = 'long', standalone = true) {\n    return getMonths(locale, type, standalone).indexOf(value) + 1;\n};\n\n/**\n * Parse a number from a locale number string.\n * @param {string} locale The locale.\n * @param {string} value The value to parse.\n * @return {number} The parsed number.\n */\nexport function parseNumber(locale, value) {\n    const numbers = getNumbers(locale);\n    return parseInt(\n        `${value}`.replace(/./g, (match) => numbers.indexOf(match)),\n    );\n};\n","import { formatDay, formatMonth, formatNumber, formatOffset } from './format.js';\nimport { parseDay, parseDayPeriod, parseEra, parseMonth, parseNumber } from './parse.js';\nimport { getType } from './utility.js';\nimport { getDayPeriods, getDays, getEras, getMonths, numberRegExp } from './values.js';\n\n/**\n * DateFormatter Format Data\n */\n\nexport default {\n\n    /* ERA */\n\n    G: {\n        key: 'era',\n        maxLength: 5,\n        regex: (locale, length) => {\n            const type = getType(length);\n            return getEras(locale, type).join('|');\n        },\n        input: (locale, value, length) => {\n            const type = getType(length);\n            return parseEra(locale, value, type);\n        },\n        output: (datetime, length) => {\n            const type = getType(length);\n            return datetime.era(type);\n        },\n    },\n\n    /* YEAR */\n\n    // year\n    y: {\n        key: 'year',\n        regex: (locale) => numberRegExp(locale),\n        input: (locale, value, length) => {\n            value = parseNumber(locale, value);\n\n            if (length !== 2 || `${value}`.length !== 2) {\n                return value;\n            }\n\n            return value > 40 ?\n                1900 + value :\n                2000 + value;\n        },\n        output: (datetime, length) => {\n            let year = datetime.getYear();\n            if (length === 2) {\n                year = `${year}`.slice(-2);\n            }\n            return formatNumber(\n                datetime.getLocale(),\n                Math.abs(year),\n                length,\n            );\n        },\n    },\n\n    // week year\n    Y: {\n        key: 'weekYear',\n        regex: (locale) => numberRegExp(locale),\n        input: (locale, value, length) => {\n            value = parseNumber(locale, value);\n\n            if (length !== 2 || `${value}`.length !== 2) {\n                return value;\n            }\n\n            return value > 40 ?\n                1900 + value :\n                2000 + value;\n        },\n        output: (datetime, length) => {\n            let year = datetime.getWeekYear();\n            if (length === 2) {\n                year = `${year}`.slice(-2);\n            }\n            return formatNumber(\n                datetime.getLocale(),\n                Math.abs(year),\n                length,\n            );\n        },\n    },\n\n    /* QUARTER */\n\n    // quarter\n    Q: {\n        key: 'quarter',\n        regex: (locale) => numberRegExp(locale),\n        input: (locale, value) => parseNumber(locale, value),\n        output: (datetime, length) =>\n            formatNumber(\n                datetime.getLocale(),\n                datetime.getQuarter(),\n                length,\n            ),\n    },\n\n    // quarter (standalone)\n    q: {\n        key: 'quarter',\n        regex: (locale) => numberRegExp(locale),\n        input: (locale, value) => parseNumber(locale, value),\n        output: (datetime, length) =>\n            formatNumber(\n                datetime.getLocale(),\n                datetime.getQuarter(),\n                length,\n            ),\n    },\n\n    /* MONTH */\n\n    // month\n    M: {\n        key: 'month',\n        regex: (locale, length) => {\n            switch (length) {\n                case 5:\n                case 4:\n                case 3:\n                    const type = getType(length);\n                    return getMonths(locale, type, false).join('|');\n                default:\n                    return numberRegExp(locale);\n            }\n        },\n        input: (locale, value, length) => {\n            switch (length) {\n                case 5:\n                    return null;\n                case 4:\n                case 3:\n                    const type = getType(length);\n                    return parseMonth(locale, value, type, false);\n                default:\n                    return parseNumber(locale, value);\n            }\n        },\n        output: (datetime, length) => {\n            const locale = datetime.getLocale();\n            const month = datetime.getMonth();\n            switch (length) {\n                case 5:\n                case 4:\n                case 3:\n                    const type = getType(length);\n                    return formatMonth(locale, month, type, false);\n                default:\n                    return formatNumber(locale, month, length);\n            }\n        },\n    },\n\n    // month (standalone)\n    L: {\n        key: 'month',\n        regex: (locale, length) => {\n            switch (length) {\n                case 5:\n                case 4:\n                case 3:\n                    const type = getType(length);\n                    return getMonths(locale, type).join('|');\n                default:\n                    return numberRegExp(locale);\n            }\n        },\n        input: (locale, value, length) => {\n            switch (length) {\n                case 5:\n                    return null;\n                case 4:\n                case 3:\n                    const type = getType(length);\n                    return parseMonth(locale, value, type);\n                default:\n                    return parseNumber(locale, value);\n            }\n        },\n        output: (datetime, length) => {\n            const locale = datetime.getLocale();\n            const month = datetime.getMonth();\n            switch (length) {\n                case 5:\n                case 4:\n                case 3:\n                    const type = getType(length);\n                    return formatMonth(locale, month, type);\n                default:\n                    return formatNumber(locale, month, length);\n            }\n        },\n    },\n\n    /* WEEK */\n\n    // local week\n    w: {\n        key: 'week',\n        regex: (locale) => numberRegExp(locale),\n        input: (locale, value) => parseNumber(locale, value),\n        output: (datetime, length) =>\n            formatNumber(\n                datetime.getLocale(),\n                datetime.getWeek(),\n                length,\n            ),\n    },\n\n    // local week of month\n    W: {\n        key: 'weekOfMonth',\n        regex: (locale) => numberRegExp(locale),\n        input: (locale, value) => parseNumber(locale, value),\n        output: (datetime) =>\n            formatNumber(\n                datetime.getLocale(),\n                datetime.getWeekOfMonth(),\n            ),\n    },\n\n    /* DAY */\n\n    // day of month\n    d: {\n        key: 'date',\n        regex: (locale) => numberRegExp(locale),\n        input: (locale, value) => parseNumber(locale, value),\n        output: (datetime, length) =>\n            formatNumber(\n                datetime.getLocale(),\n                datetime.getDate(),\n                length,\n            ),\n    },\n\n    // day of year\n    D: {\n        key: 'dayOfYear',\n        regex: (locale) => numberRegExp(locale),\n        input: (locale, value) => parseNumber(locale, value),\n        output: (datetime, length) =>\n            formatNumber(\n                datetime.getLocale(),\n                datetime.getDayOfYear(),\n                length,\n            ),\n    },\n\n    // day of week in month\n    F: {\n        key: 'weekDayInMonth',\n        regex: (locale) => numberRegExp(locale),\n        input: (locale, value) => parseNumber(locale, value),\n        output: (datetime) =>\n            formatNumber(\n                datetime.getLocale(),\n                datetime.getWeekDayInMonth(),\n            ),\n    },\n\n    // week day name\n    E: {\n        key: 'weekDay',\n        regex: (locale, length) => {\n            const type = getType(length);\n            return getDays(locale, type, false).join('|');\n        },\n        input: (locale, value, length) => {\n            if (length === 5) {\n                return null;\n            }\n\n            const type = getType(length);\n            return parseDay(locale, value, type, false);\n        },\n        output: (datetime, length) => {\n            const type = getType(length);\n            const locale = datetime.getLocale();\n            const day = datetime.getDay();\n            return formatDay(locale, day, type, false);\n        },\n    },\n\n    // week day\n    e: {\n        key: 'weekDay',\n        maxLength: 5,\n        regex: (locale, length) => {\n            switch (length) {\n                case 5:\n                case 4:\n                case 3:\n                    const type = getType(length);\n                    return getDays(locale, type, false).join('|');\n                default:\n                    return numberRegExp(locale);\n            }\n        },\n        input: (locale, value, length) => {\n            switch (length) {\n                case 5:\n                    return null;\n                case 4:\n                case 3:\n                    const type = getType(length);\n                    return parseDay(locale, value, type, false);\n                default:\n                    return parseNumber(locale, value);\n            }\n        },\n        output: (datetime, length) => {\n            const locale = datetime.getLocale();\n            switch (length) {\n                case 5:\n                case 4:\n                case 3:\n                    const type = getType(length);\n                    const day = datetime.getDay();\n                    return formatDay(locale, day, type, false);\n                default:\n                    const weekDay = datetime.getWeekDay();\n                    return formatNumber(locale, weekDay, length);\n            }\n        },\n    },\n\n    // week day (standalone)\n    c: {\n        key: 'weekDay',\n        maxLength: 5,\n        regex: (locale, length) => {\n            switch (length) {\n                case 5:\n                case 4:\n                case 3:\n                    const type = getType(length);\n                    return getDays(locale, type).join('|');\n                default:\n                    return numberRegExp(locale);\n            }\n        },\n        input: (locale, value, length) => {\n            switch (length) {\n                case 5:\n                    return null;\n                case 4:\n                case 3:\n                    const type = getType(length);\n                    return parseDay(locale, value, type);\n                default:\n                    return parseNumber(locale, value);\n            }\n        },\n        output: (datetime, length) => {\n            const locale = datetime.getLocale();\n            switch (length) {\n                case 5:\n                case 4:\n                case 3:\n                    const type = getType(length);\n                    const day = datetime.getDay();\n                    return formatDay(locale, day, type);\n                default:\n                    const weekDay = datetime.getWeekDay();\n                    return formatNumber(locale, weekDay);\n            }\n        },\n    },\n\n    /* PERIOD */\n\n    a: {\n        key: 'dayPeriod',\n        regex: (locale, length) => {\n            const type = getType(length);\n            return getDayPeriods(locale, type).join('|');\n        },\n        input: (locale, value, length) => {\n            const type = getType(length);\n            return parseDayPeriod(locale, value, type);\n        },\n        output: (datetime, length) => {\n            const type = getType(length);\n            return datetime.dayPeriod(type);\n        },\n    },\n\n    /* HOUR */\n\n    h: {\n        key: 'hours12',\n        regex: (locale) => numberRegExp(locale),\n        input: (locale, value) => {\n            value = parseNumber(locale, value);\n            if (value === 12) {\n                value = 0;\n            }\n            return value;\n        },\n        output: (datetime, length) =>\n            formatNumber(\n                datetime.getLocale(),\n                datetime.getHours() % 12 || 12,\n                length,\n            ),\n    },\n\n    H: {\n        key: 'hours24',\n        regex: (locale) => numberRegExp(locale),\n        input: (locale, value) => parseNumber(locale, value),\n        output: (datetime, length) =>\n            formatNumber(\n                datetime.getLocale(),\n                datetime.getHours(),\n                length,\n            ),\n    },\n\n    K: {\n        key: 'hours12',\n        regex: (locale) => numberRegExp(locale),\n        input: (locale, value) => parseNumber(locale, value),\n        output: (datetime, length) =>\n            formatNumber(\n                datetime.getLocale(),\n                datetime.getHours() % 12,\n                length,\n            ),\n    },\n\n    k: {\n        key: 'hours24',\n        regex: (locale) => numberRegExp(locale),\n        input: (locale, value) => {\n            value = parseNumber(locale, value);\n            if (value === 24) {\n                value = 0;\n            }\n            return value;\n        },\n        output: (datetime, length) =>\n            formatNumber(\n                datetime.getLocale(),\n                datetime.getHours() || 24,\n                length,\n            ),\n    },\n\n    /* MINUTE */\n\n    m: {\n        key: 'minutes',\n        regex: (locale) => numberRegExp(locale),\n        input: (locale, value) => parseNumber(locale, value),\n        output: (datetime, length) =>\n            formatNumber(\n                datetime.getLocale(),\n                datetime.getMinutes(),\n                length,\n            ),\n    },\n\n    /* SECOND */\n\n    s: {\n        key: 'seconds',\n        regex: (locale) => numberRegExp(locale),\n        input: (locale, value) => parseNumber(locale, value),\n        output: (datetime, length) =>\n            formatNumber(\n                datetime.getLocale(),\n                datetime.getSeconds(),\n                length,\n            ),\n    },\n\n    /* FRACTIONAL */\n\n    S: {\n        key: 'milliseconds',\n        regex: (locale) => numberRegExp(locale),\n        input: (_) => 0,\n        output: (datetime, length) =>\n            formatNumber(\n                datetime.getLocale(),\n                `${Math.floor(\n                    datetime.getMilliseconds() *\n                    1000,\n                )}`.padEnd(length, '0').slice(0, length),\n            ),\n    },\n\n    /* TIMEZONE/OFFSET */\n\n    z: {\n        output: (datetime, length) => {\n            if (length === 5) {\n                length = 1;\n            }\n            const type = getType(length);\n            return datetime.timeZoneName(type);\n        },\n    },\n\n    Z: {\n        key: 'timeZone',\n        regex: (_, length) => {\n            switch (length) {\n                case 5:\n                    return `[\\\\+\\\\-]\\\\d{2}\\\\:\\\\d{2}|Z`;\n                case 4:\n                    return `GMT[\\\\+\\\\-]\\\\d{2}\\\\:\\\\d{2}|GMT`;\n                default:\n                    return `[\\\\+\\\\-]\\\\d{4}`;\n            }\n        },\n        input: (_, value) => value,\n        output: (datetime, length) => {\n            const offset = datetime.getTimeZoneOffset();\n\n            let useColon = true;\n            let prefix = '';\n            switch (length) {\n                case 5:\n                    if (!offset) {\n                        return 'Z';\n                    }\n                    break;\n                case 4:\n                    prefix = 'GMT';\n\n                    if (!offset) {\n                        return prefix;\n                    }\n\n                    break;\n                default:\n                    useColon = false;\n                    break;\n            }\n\n            return prefix + formatOffset(offset, useColon);\n        },\n    },\n\n    O: {\n        key: 'timeZone',\n        regex: (_, length) => {\n            switch (length) {\n                case 4:\n                    return `GMT[\\\\+\\\\-]\\\\d{2}\\\\:\\\\d{2}|GMT`;\n                default:\n                    return `GMT[\\\\+\\\\-]\\\\d{2}|GMT`;\n            }\n        },\n        input: (_, value) => value,\n        output: (datetime, length) => {\n            const offset = datetime.getTimeZoneOffset();\n            const prefix = 'GMT';\n\n            if (!offset) {\n                return prefix;\n            }\n\n            let optionalMinutes = false;\n            switch (length) {\n                case 4:\n                    break;\n                default:\n                    optionalMinutes = true;\n            }\n\n            return prefix + formatOffset(offset, true, optionalMinutes);\n        },\n    },\n\n    V: {\n        key: 'timeZone',\n        regex: (_) => '([a-zA-Z_\\/]+)',\n        input: (_, value) => value,\n        output: (datetime) => datetime.getTimeZone(),\n    },\n\n    X: {\n        key: 'timeZone',\n        regex: (_, length) => {\n            switch (length) {\n                case 5:\n                case 3:\n                    return `[\\\\+\\\\-]\\\\d{2}\\\\:\\\\d{2}|Z`;\n                case 4:\n                case 2:\n                    return `[\\\\+\\\\-]\\\\d{4}|Z`;\n                default:\n                    return `[\\\\+\\\\-]\\\\d{2}(?:\\\\d{2})?|Z`;\n            }\n        },\n        input: (_, value) => value,\n        output: (datetime, length) => {\n            const offset = datetime.getTimeZoneOffset();\n\n            if (!offset) {\n                return 'Z';\n            }\n\n            let useColon;\n            switch (length) {\n                case 5:\n                case 3:\n                    useColon = true;\n                    break;\n                default:\n                    useColon = false;\n                    break;\n            }\n\n            return formatOffset(offset, useColon, length === 1);\n        },\n    },\n\n    x: {\n        key: 'timeZone',\n        regex: (_, length) => {\n            switch (length) {\n                case 5:\n                case 3:\n                    return `[\\\\+\\\\-]\\\\d{2}\\\\:\\\\d{2}`;\n                case 4:\n                case 2:\n                    return `[\\\\+\\\\-]\\\\d{4}`;\n                default:\n                    return `[\\\\+\\\\-]\\\\d{2}(?:\\\\d{2})?`;\n            }\n        },\n        input: (_, value) => value,\n        output: (datetime, length) => {\n            let useColon;\n            switch (length) {\n                case 5:\n                case 3:\n                    useColon = true;\n                    break;\n                default:\n                    useColon = false;\n                    break;\n            }\n\n            return formatOffset(datetime.getTimeZoneOffset(), useColon, length === 1);\n        },\n    },\n\n};\n","import { config, monthDays } from './../vars.js';\n\n/**\n * DateTime (Static) Utility\n */\n\n/**\n * Get the day of the year for a year, month and date.\n * @param {number} year The year.\n * @param {number} month The month. (1, 12)\n * @param {number} date The date.\n * @return {number} The day of the year. (1, 366)\n */\nexport function dayOfYear(year, month, date) {\n    return new Array(month - 1)\n        .fill()\n        .reduce(\n            (d, _, i) =>\n                d + daysInMonth(year, i + 1),\n            date,\n        );\n};\n\n/**\n * Get the number of days in a month, from a year and month.\n * @param {number} year The year.\n * @param {number} month The month. (1, 12)\n * @return {number} The number of days in the month.\n */\nexport function daysInMonth(year, month) {\n    const date = new Date(Date.UTC(year, month - 1));\n    month = date.getUTCMonth();\n\n    return monthDays[month] +\n        (\n            month == 1 && isLeapYear(\n                date.getUTCFullYear(),\n            ) ?\n                1 :\n                0\n        );\n};\n\n/**\n * Get the number of days in a year.\n * @param {number} year The year.\n * @return {number} The number of days in the year.\n */\nexport function daysInYear(year) {\n    return !isLeapYear(year) ?\n        365 :\n        366;\n};\n\n/**\n * Get the default locale.\n * @return {string} The locale.\n */\nexport function getDefaultLocale() {\n    return config.defaultLocale;\n};\n\n/**\n * Get the default timeZone.\n * @return {string} The name of the timeZone.\n */\nexport function getDefaultTimeZone() {\n    return config.defaultTimeZone;\n};\n\n/**\n * Return true if a year is a leap year.\n * @param {number} year The year.\n * @return {Boolean} TRUE if the year is a leap year, otherwise FALSE.\n */\nexport function isLeapYear(year) {\n    return new Date(year, 1, 29)\n        .getDate() === 29;\n};\n\n/**\n * Set whether dates will be clamped when changing months.\n * @param {Boolean} clampDates Whether to clamp dates.\n */\nexport function setDateClamping(clampDates) {\n    config.clampDates = clampDates;\n};\n\n/**\n * Set the default locale.\n * @param {string} locale The locale.\n */\nexport function setDefaultLocale(locale) {\n    config.defaultLocale = locale;\n};\n\n/**\n * Set the default timeZone.\n * @param {string} timeZone The name of the timeZone.\n */\nexport function setDefaultTimeZone(timeZone) {\n    config.defaultTimeZone = timeZone;\n};\n","import DateTime from './date-time.js';\nimport { fromArray, fromDate, fromFormat, fromISOString, fromTimestamp, now } from './static/create.js';\nimport { dayOfYear, daysInMonth as _daysInMonth, daysInYear as _daysInYear, getDefaultLocale, getDefaultTimeZone, isLeapYear as _isLeapYear, setDateClamping, setDefaultLocale, setDefaultTimeZone } from './static/utility.js';\nimport { getDate, getDay, getDayOfYear, getHours, getMilliseconds, getMinutes, getMonth, getQuarter, getSeconds, getTimestamp, getWeek, getWeekDay, getWeekDayInMonth, getWeekOfMonth, getWeekYear, getYear } from './prototype/attributes-get.js';\nimport { setDate, setDay, setDayOfYear, setHours, setMilliseconds, setMinutes, setMonth, setQuarter, setSeconds, setTimestamp, setWeek, setWeekDay, setWeekDayInMonth, setWeekOfMonth, setWeekYear, setYear } from './prototype/attributes-set.js';\nimport { add, endOf, startOf, sub } from './prototype/manipulate.js';\nimport { format, toDateString, toISOString, toString, toTimeString, toUTCString } from './prototype/output.js';\nimport { dayName, dayPeriod, daysInMonth, daysInYear, diff, era, humanDiff, isAfter, isBefore, isBetween, isDST, isLeapYear, isSame, isSameOrAfter, isSameOrBefore, monthName, timeZoneName, weeksInYear } from './prototype/utility.js';\n\nDateTime.dayOfYear = dayOfYear;\nDateTime.daysInMonth = _daysInMonth;\nDateTime.daysInYear = _daysInYear;\nDateTime.fromArray = fromArray;\nDateTime.fromDate = fromDate;\nDateTime.fromFormat = fromFormat;\nDateTime.fromISOString = fromISOString;\nDateTime.fromTimestamp = fromTimestamp;\nDateTime.getDefaultLocale = getDefaultLocale;\nDateTime.getDefaultTimeZone = getDefaultTimeZone;\nDateTime.isLeapYear = _isLeapYear;\nDateTime.now = now;\nDateTime.setDateClamping = setDateClamping;\nDateTime.setDefaultLocale = setDefaultLocale;\nDateTime.setDefaultTimeZone = setDefaultTimeZone;\n\nconst proto = DateTime.prototype;\n\nproto.add = add;\nproto.dayName = dayName;\nproto.dayPeriod = dayPeriod;\nproto.daysInMonth = daysInMonth;\nproto.daysInYear = daysInYear;\nproto.diff = diff;\nproto.endOf = endOf;\nproto.era = era;\nproto.format = format;\nproto.getDate = getDate;\nproto.getDay = getDay;\nproto.getDayOfYear = getDayOfYear;\nproto.getHours = getHours;\nproto.getMilliseconds = getMilliseconds;\nproto.getMinutes = getMinutes;\nproto.getMonth = getMonth;\nproto.getQuarter = getQuarter;\nproto.getSeconds = getSeconds;\nproto.getTimestamp = getTimestamp;\nproto.getWeek = getWeek;\nproto.getWeekDay = getWeekDay;\nproto.getWeekDayInMonth = getWeekDayInMonth;\nproto.getWeekOfMonth = getWeekOfMonth;\nproto.getWeekYear = getWeekYear;\nproto.getYear = getYear;\nproto.humanDiff = humanDiff;\nproto.isAfter = isAfter;\nproto.isBefore = isBefore;\nproto.isBetween = isBetween;\nproto.isDST = isDST;\nproto.isLeapYear = isLeapYear;\nproto.isSame = isSame;\nproto.isSameOrAfter = isSameOrAfter;\nproto.isSameOrBefore = isSameOrBefore;\nproto.monthName = monthName;\nproto.setDate = setDate;\nproto.setDay = setDay;\nproto.setDayOfYear = setDayOfYear;\nproto.setHours = setHours;\nproto.setMilliseconds = setMilliseconds;\nproto.setMinutes = setMinutes;\nproto.setMonth = setMonth;\nproto.setQuarter = setQuarter;\nproto.setSeconds = setSeconds;\nproto.setTimestamp = setTimestamp;\nproto.setWeek = setWeek;\nproto.setWeekDay = setWeekDay;\nproto.setWeekDayInMonth = setWeekDayInMonth;\nproto.setWeekOfMonth = setWeekOfMonth;\nproto.setWeekYear = setWeekYear;\nproto.setYear = setYear;\nproto.startOf = startOf;\nproto.sub = sub;\nproto.timeZoneName = timeZoneName;\nproto.toDateString = toDateString;\nproto.toISOString = toISOString;\nproto.toString = toString;\nproto.toTimeString = toTimeString;\nproto.toUTCString = toUTCString;\nproto.weeksInYear = weeksInYear;\n\nexport default DateTime;\n","import DateTime from './../date-time.js';\nimport { parseCompare, parseFactory } from './../helpers.js';\nimport { config, formats, formatTokenRegExp, parseOrderKeys } from './../vars.js';\nimport tokens from './../formatter/tokens.js';\n\n/**\n * DateTime (Static) Creation\n */\n\n/**\n * Create a new DateTime from an array.\n * @param {number[]} dateArray The date to parse.\n * @param {object} [options] Options for the new DateTime.\n * @param {string} [options.timeZone] The timeZone to use.\n * @param {string} [options.locale] The locale to use.\n * @return {DateTime} A new DateTime object.\n */\nexport function fromArray(dateArray, options = {}) {\n    const dateValues = dateArray.slice(0, 3);\n    const timeValues = dateArray.slice(3);\n\n    if (dateValues.length < 3) {\n        dateValues.push(...new Array(3 - dateValues.length).fill(1));\n    }\n\n    if (timeValues.length < 4) {\n        timeValues.push(...new Array(4 - timeValues.length).fill(0));\n    }\n\n    return new DateTime(null, options)\n        .setTimestamp(0)\n        .setYear(...dateValues)\n        .setHours(...timeValues);\n};\n\n/**\n * Create a new DateTime from a Date.\n * @param {Date} date The date.\n * @param {object} [options] Options for the new DateTime.\n * @param {string} [options.timeZone] The timeZone to use.\n * @param {string} [options.locale] The locale to use.\n * @return {DateTime} A new DateTime object.\n */\nexport function fromDate(date, options = {}) {\n    return new DateTime(date.getTime(), options);\n};\n\n/**\n * Create a new DateTime from a format string.\n * @param {string} formatString The format string.\n * @param {string} dateString The date string.\n * @param {object} [options] Options for the new DateTime.\n * @param {string} [options.timeZone] The timeZone to use.\n * @param {string} [options.locale] The locale to use.\n * @return {DateTime} A new DateTime object.\n */\nexport function fromFormat(formatString, dateString, options = {}) {\n    if (!('locale' in options)) {\n        options.locale = config.defaultLocale;\n    }\n\n    const values = [];\n\n    let match;\n    while (formatString && (match = formatString.match(formatTokenRegExp))) {\n        const token = match[1];\n        const position = match.index;\n        const length = match[0].length;\n\n        if (position) {\n            const formatTest = formatString.substring(0, position);\n            parseCompare(formatTest, dateString);\n        }\n\n        formatString = formatString.substring(position + length);\n        dateString = dateString.substring(position);\n\n        if (!token) {\n            const literal = match[0].slice(1, -1);\n            parseCompare(literal || `'`, dateString);\n            dateString = dateString.substring(literal.length);\n            continue;\n        }\n\n        if (!(token in tokens)) {\n            throw new Error(`Invalid token in DateTime format: ${token}`);\n        }\n\n        const regExp = tokens[token].regex(options.locale, length);\n        const matchedValue = dateString.match(new RegExp(`^${regExp}`));\n\n        if (!matchedValue) {\n            throw new Error(`Unmatched token in DateTime string: ${token}`);\n        }\n\n        const literal = matchedValue[0];\n        const value = tokens[token].input(options.locale, literal, length);\n\n        if (value !== null) {\n            const key = tokens[token].key;\n            values.push({ key, value, literal, token, length });\n        }\n\n        dateString = dateString.substring(literal.length);\n    }\n\n    if (formatString) {\n        parseCompare(formatString, dateString);\n    }\n\n    if (!('timeZone' in options)) {\n        options.timeZone = config.defaultTimeZone;\n    }\n\n    let timeZone = options.timeZone;\n    for (const { key, value } of values) {\n        if (key !== 'timeZone') {\n            continue;\n        }\n\n        timeZone = value;\n    }\n\n    let datetime = this.fromTimestamp(0, {\n        locale: options.locale,\n    }).setYear(1).setTimeZone(timeZone);\n\n    const methods = parseFactory();\n\n    const testValues = [];\n\n    for (const subKeys of parseOrderKeys) {\n        for (const subKey of subKeys) {\n            if (subKey === 'era' && !values.find((data) => data.key === 'year')) {\n                continue;\n            }\n\n            for (const data of values) {\n                const { key, value, literal, token, length } = data;\n\n                if (key !== subKey) {\n                    continue;\n                }\n\n                // skip narrow month and day names if output already matches\n                if (length === 5 && ['M', 'L', 'E', 'e', 'c'].includes(token)) {\n                    const fullToken = token.repeat(length);\n                    if (datetime.format(fullToken) === literal) {\n                        continue;\n                    }\n                }\n\n                datetime = methods[key].set(datetime, value);\n                testValues.push(data);\n            }\n        }\n    }\n\n    let isValid = true;\n    for (const { key, value } of testValues) {\n        if (key in methods && methods[key].get(datetime) !== value) {\n            isValid = false;\n            break;\n        }\n    }\n\n    if (options.timeZone !== timeZone) {\n        datetime = datetime.setTimeZone(options.timeZone);\n    }\n\n    datetime.isValid = isValid;\n\n    return datetime;\n};\n\n/**\n * Create a new DateTime from an ISO format string.\n * @param {string} dateString The date string.\n * @param {object} [options] Options for the new DateTime.\n * @param {string} [options.timeZone] The timeZone to use.\n * @param {string} [options.locale] The locale to use.\n * @return {DateTime} A new DateTime object.\n */\nexport function fromISOString(dateString, options = {}) {\n    let date = this.fromFormat(formats.rfc3339_extended, dateString, {\n        locale: 'en',\n    });\n\n    if ('timeZone' in options) {\n        date = date.setTimeZone(options.timeZone);\n    }\n\n    if ('locale' in options) {\n        date = date.setLocale(options.locale);\n    }\n\n    return date;\n};\n\n/**\n * Create a new DateTime from a timestamp.\n * @param {number} timestamp The timestamp.\n * @param {object} [options] Options for the new DateTime.\n * @param {string} [options.timeZone] The timeZone to use.\n * @param {string} [options.locale] The locale to use.\n * @return {DateTime} A new DateTime object.\n */\nexport function fromTimestamp(timestamp, options = {}) {\n    return new DateTime(null, options)\n        .setTimestamp(timestamp);\n};\n\n/**\n * Create a new DateTime for the current time.\n * @param {object} [options] Options for the new DateTime.\n * @param {string} [options.timeZone] The timeZone to use.\n * @param {string} [options.locale] The locale to use.\n * @return {DateTime} A new DateTime object.\n */\nexport function now(options = {}) {\n    return new DateTime(null, options);\n};\n","import { modify } from './../helpers.js';\nimport { daysInMonth } from './../static/utility.js';\n\n/**\n * DateTime Manipulation\n */\n\n/**\n * Add a duration to the date.\n * @param {number} amount The amount to modify the date by.\n * @param {string} timeUnit The unit of time.\n * @return {DateTime} The DateTime object.\n */\nexport function add(amount, timeUnit) {\n    return modify(this, amount, timeUnit);\n};\n\n/**\n * Modify the DateTime by setting it to the end of a unit of time.\n * @param {string} timeUnit The unit of time.\n * @return {DateTime} The DateTime object.\n */\nexport function endOf(timeUnit) {\n    timeUnit = timeUnit.toLowerCase();\n\n    switch (timeUnit) {\n        case 'second':\n            return this.setMilliseconds(999);\n        case 'minute':\n            return this.setSeconds(59, 999);\n        case 'hour':\n            return this.setMinutes(59, 59, 999);\n        case 'day':\n            return this.setHours(23, 59, 59, 999);\n        case 'week':\n            return this.setWeekDay(7)\n                .setHours(23, 59, 59, 999);\n        case 'month':\n            return this.setDate(this.daysInMonth())\n                .setHours(23, 59, 59, 999);\n        case 'quarter':\n            const month = this.getQuarter() * 3;\n            return this.setMonth(month, daysInMonth(this.getYear(), month))\n                .setHours(23, 59, 59, 999);\n        case 'year':\n            return this.setMonth(12, 31)\n                .setHours(23, 59, 59, 999);\n        default:\n            throw new Error('Invalid time unit supplied');\n    }\n};\n\n/**\n * Modify the DateTime by setting it to the start of a unit of time.\n * @param {string} timeUnit The unit of time.\n * @return {DateTime} The DateTime object.\n */\nexport function startOf(timeUnit) {\n    timeUnit = timeUnit.toLowerCase();\n\n    switch (timeUnit) {\n        case 'second':\n            return this.setMilliseconds(0);\n        case 'minute':\n            return this.setSeconds(0, 0);\n        case 'hour':\n            return this.setMinutes(0, 0, 0);\n        case 'day':\n            return this.setHours(0, 0, 0, 0);\n        case 'week':\n            return this.setWeekDay(1)\n                .setHours(0, 0, 0, 0);\n        case 'month':\n            return this.setDate(1)\n                .setHours(0, 0, 0, 0);\n        case 'quarter':\n            const month = this.getQuarter() * 3 - 2;\n            return this.setMonth(month, 1)\n                .setHours(0, 0, 0, 0);\n        case 'year':\n            return this.setMonth(1, 1)\n                .setHours(0, 0, 0, 0);\n        default:\n            throw new Error('Invalid time unit supplied');\n    }\n};\n\n/**\n * Subtract a duration from the date.\n * @param {number} amount The amount to modify the date by.\n * @param {string} timeUnit The unit of time.\n * @return {DateTime} The DateTime object.\n */\nexport function sub(amount, timeUnit) {\n    return modify(this, -amount, timeUnit);\n};\n","import DateTime from './../date-time.js';\nimport { getRelativeFormatter } from './../factory.js';\nimport { compensateDiff, getBiggestDiff } from './../helpers.js';\nimport { formatDay, formatDayPeriod, formatEra, formatMonth, formatOffset, formatTimeZoneName } from './../formatter/format.js';\nimport { minimumDays } from './../formatter/utility.js';\nimport { daysInMonth as _daysInMonth, daysInYear as _daysInYear, isLeapYear as _isLeapYear } from './../static/utility.js';\n\n/**\n * DateTime Utility\n */\n\n/**\n * Get the name of the day of the week in current timeZone.\n * @param {string} [type=long] The type of day name to return.\n * @return {string} The name of the day of the week.\n */\nexport function dayName(type = 'long') {\n    return formatDay(this.getLocale(), this.getDay(), type);\n};\n\n/**\n * Get the day period in current timeZone.\n * @param {string} [type=long] The type of day period to return.\n * @return {string} The day period.\n */\nexport function dayPeriod(type = 'long') {\n    return formatDayPeriod(\n        this.getLocale(),\n        this.getHours() < 12 ?\n            0 :\n            1,\n        type,\n    );\n};\n\n/**\n * Get the number of days in the current month.\n * @return {number} The number of days in the current month.\n */\nexport function daysInMonth() {\n    return _daysInMonth(\n        this.getYear(),\n        this.getMonth(),\n    );\n};\n\n/**\n * Get the number of days in the current year.\n * @return {number} The number of days in the current year.\n */\nexport function daysInYear() {\n    return _daysInYear(\n        this.getYear(),\n    );\n};\n\n/**\n * Get the difference between this and another Date.\n * @param {DateTime} [other] The date to compare to.\n * @param {object} [options] The options for comparing the dates.\n * @param {string} [options.timeUnit] The unit of time.\n * @param {Boolean} [options.relative=true] Whether to use the relative difference.\n * @return {number} The difference.\n */\nexport function diff(other, { timeUnit, relative = true } = {}) {\n    if (!other) {\n        other = new this.constructor;\n    }\n\n    if (!timeUnit) {\n        return this - other;\n    }\n\n    if (timeUnit) {\n        timeUnit = timeUnit.toLowerCase();\n    }\n\n    other = other.setTimeZone(this.getTimeZone());\n\n    switch (timeUnit) {\n        case 'year':\n        case 'years':\n            const yearDiff = this.getYear() - other.getYear();\n            return compensateDiff(\n                this,\n                other.setYear(\n                    this.getYear(),\n                ),\n                yearDiff,\n                !relative,\n                -1,\n            );\n        case 'month':\n        case 'months':\n            const monthDiff = (this.getYear() - other.getYear()) *\n                12 +\n                this.getMonth() -\n                other.getMonth();\n            return compensateDiff(\n                this,\n                other.setYear(\n                    this.getYear(),\n                    this.getMonth(),\n                ),\n                monthDiff,\n                !relative,\n                -1,\n            );\n        case 'week':\n        case 'weeks':\n            const weekDiff = (this - other) / 604800000;\n            return compensateDiff(\n                this,\n                other.setWeekYear(\n                    this.getWeekYear(),\n                    this.getWeek(),\n                ),\n                weekDiff,\n                relative,\n            );\n        case 'day':\n        case 'days':\n            const dayDiff = (this - other) / 86400000;\n            return compensateDiff(\n                this,\n                other.setYear(\n                    this.getYear(),\n                    this.getMonth(),\n                    this.getDate(),\n                ),\n                dayDiff,\n                relative,\n            );\n        case 'hour':\n        case 'hours':\n            const hourDiff = (this - other) / 3600000;\n            return compensateDiff(\n                this,\n                other.setYear(\n                    this.getYear(),\n                    this.getMonth(),\n                    this.getDate(),\n                ).setHours(\n                    this.getHours(),\n                ),\n                hourDiff,\n                relative,\n            );\n        case 'minute':\n        case 'minutes':\n            const minuteDiff = (this - other) / 60000;\n            return compensateDiff(\n                this,\n                other.setYear(\n                    this.getYear(),\n                    this.getMonth(),\n                    this.getDate(),\n                ).setHours(\n                    this.getHours(),\n                    this.getMinutes(),\n                ),\n                minuteDiff,\n                relative,\n            );\n        case 'second':\n        case 'seconds':\n            const secondDiff = (this - other) / 1000;\n            return compensateDiff(\n                this,\n                other.setYear(\n                    this.getYear(),\n                    this.getMonth(),\n                    this.getDate(),\n                ).setHours(\n                    this.getHours(),\n                    this.getMinutes(),\n                    this.getSeconds(),\n                ),\n                secondDiff,\n                relative,\n            );\n        default:\n            throw new Error('Invalid time unit supplied');\n    }\n};\n\n/**\n * Get the era in current timeZone.\n * @param {string} [type=long] The type of era to return.\n * @return {string} The era.\n */\nexport function era(type = 'long') {\n    return formatEra(\n        this.getLocale(),\n        this.getYear() < 0 ?\n            0 :\n            1,\n        type,\n    );\n};\n\n/**\n * Get the difference between this and another Date in human readable form.\n * @param {DateTime} [other] The date to compare to.\n * @param {object} [options] The options for comparing the dates.\n * @param {string} [options.timeUnit] The unit of time.\n * @return {string} The difference in human readable form.\n */\nexport function humanDiff(other, { timeUnit } = {}) {\n    const relativeFormatter = getRelativeFormatter(this.getLocale());\n\n    if (!relativeFormatter) {\n        throw new Error('RelativeTimeFormat not supported');\n    }\n\n    if (!other) {\n        other = new this.constructor;\n    }\n\n    let amount;\n    if (timeUnit) {\n        amount = this.diff(other, { timeUnit });\n    } else {\n        [amount, timeUnit] = getBiggestDiff(this, other);\n    }\n\n    return relativeFormatter.format(amount, timeUnit);\n};\n\n/**\n * Determine whether this DateTime is after another date (optionally to a granularity).\n * @param {DateTime} [other] The date to compare to.\n * @param {object} [options] The options for comparing the dates.\n * @param {string} [options.granularity] The level of granularity to use for comparison.\n * @return {Boolean} TRUE if this DateTime is after the other date, otherwise FALSE.\n */\nexport function isAfter(other, { granularity } = {}) {\n    return this.diff(other, { timeUnit: granularity }) > 0;\n};\n\n/**\n * Determine whether this DateTime is before another date (optionally to a granularity).\n * @param {DateTime} [other] The date to compare to.\n * @param {object} [options] The options for comparing the dates.\n * @param {string} [options.granularity] The level of granularity to use for comparison.\n * @return {Boolean} TRUE if this DateTime is before the other date, otherwise FALSE.\n */\nexport function isBefore(other, { granularity } = {}) {\n    return this.diff(other, { timeUnit: granularity }) < 0;\n};\n\n/**\n * Determine whether this DateTime is between two other dates (optionally to a granularity).\n * @param {DateTime} [start] The first date to compare to.\n * @param {DateTime} [end] The second date to compare to.\n * @param {object} [options] The options for comparing the dates.\n * @param {string} [options.granularity] The level of granularity to use for comparison.\n * @return {Boolean} TRUE if this DateTime is between the other dates, otherwise FALSE.\n */\nexport function isBetween(start, end, { granularity } = {}) {\n    return this.diff(start, { timeUnit: granularity }) > 0 && this.diff(end, { timeUnit: granularity }) < 0;\n};\n\n/**\n * Return true if the DateTime is in daylight savings.\n * @return {Boolean} TRUE if the current time is in daylight savings, otherwise FALSE.\n */\nexport function isDST() {\n    if (!this._dynamicTz) {\n        return false;\n    }\n\n    const year = this.getYear();\n    const dateA = DateTime.fromArray([year, 1, 1], {\n        timeZone: this.getTimeZone(),\n    });\n    const dateB = DateTime.fromArray([year, 6, 1], {\n        timeZone: this.getTimeZone(),\n    });\n\n    return this.getTimeZoneOffset() < Math.max(dateA.getTimeZoneOffset(), dateB.getTimeZoneOffset());\n};\n\n/**\n * Return true if the year is a leap year.\n * @return {Boolean} TRUE if the current year is a leap year, otherwise FALSE.\n */\nexport function isLeapYear() {\n    return _isLeapYear(\n        this.getYear(),\n    );\n};\n\n/**\n * Determine whether this DateTime is the same as another date (optionally to a granularity).\n * @param {DateTime} [other] The date to compare to.\n * @param {object} [options] The options for comparing the dates.\n * @param {string} [options.granularity] The level of granularity to use for comparison.\n * @return {Boolean} TRUE if this DateTime is the same as the other date, otherwise FALSE.\n */\nexport function isSame(other, { granularity } = {}) {\n    return this.diff(other, { timeUnit: granularity }) === 0;\n};\n\n/**\n * Determine whether this DateTime is the same or after another date (optionally to a granularity).\n * @param {DateTime} [other] The date to compare to.\n * @param {object} [options] The options for comparing the dates.\n * @param {string} [options.granularity] The level of granularity to use for comparison.\n * @return {Boolean} TRUE if this DateTime is the same or after the other date, otherwise FALSE.\n */\nexport function isSameOrAfter(other, { granularity } = {}) {\n    return this.diff(other, { timeUnit: granularity }) >= 0;\n};\n\n/**\n * Determine whether this DateTime is the same or before another date.\n * @param {DateTime} other The date to compare to.\n * @param {object} [options] The options for comparing the dates.\n * @param {string} [options.granularity] The level of granularity to use for comparison.\n * @return {Boolean} TRUE if this DateTime is the same or before the other date, otherwise FALSE.\n */\nexport function isSameOrBefore(other, { granularity } = {}) {\n    return this.diff(other, { timeUnit: granularity }) <= 0;\n};\n\n/**\n * Get the name of the month in current timeZone.\n * @param {string} [type=long] The type of month name to return.\n * @return {string} The name of the month.\n */\nexport function monthName(type = 'long') {\n    return formatMonth(this.getLocale(), this.getMonth(), type);\n};\n\n/**\n * Get the name of the current timeZone.\n * @param {string} [type=long] The formatting type.\n * @return {string} The name of the time zone.\n */\nexport function timeZoneName(type = 'long') {\n    return this._dynamicTz ?\n        formatTimeZoneName(this.getLocale(), this.getTime(), this.getTimeZone(), type) :\n        'GMT' + formatOffset(this.getTimeZoneOffset(), true, type === 'short');\n};\n\n/**\n * Get the number of weeks in the current year.\n * @return {number} The number of weeks in the current year.\n */\nexport function weeksInYear() {\n    const minDays = minimumDays(this.getLocale());\n    return this.setMonth(12, 24 + minDays).getWeek();\n};\n","import { formats, formatTokenRegExp } from './../vars.js';\nimport tokens from './../formatter/tokens.js';\n\n/**\n * DateTime Output\n */\n\n/**\n * Format the current date using a format string.\n * @param {string} formatString The format string.\n * @return {string} The formatted date string.\n */\nexport function format(formatString) {\n    let match;\n    let output = '';\n\n    while (formatString && (match = formatString.match(formatTokenRegExp))) {\n        const token = match[1];\n        const position = match.index;\n        const length = match[0].length;\n\n        if (position) {\n            output += formatString.substring(0, position);\n        }\n\n        formatString = formatString.substring(position + length);\n\n        if (!token) {\n            output += match[0].slice(1, -1);\n            continue;\n        }\n\n        if (!(token in tokens)) {\n            throw new Error(`Invalid token in DateTime format: ${token}`);\n        }\n\n        output += tokens[token].output(this, length);\n    }\n\n    output += formatString;\n\n    return output;\n};\n\n/**\n * Format the current date using \"eee MMM dd yyyy\".\n * @return {string} The formatted date string.\n */\nexport function toDateString() {\n    return this.format(formats.date);\n};\n\n/**\n * Format the current date using \"yyyy-MM-dd'THH:mm:ss.SSSSSSxxx\".\n * @return {string} The formatted date string.\n */\nexport function toISOString() {\n    return this\n        .setLocale('en')\n        .setTimeZone('UTC')\n        .format(formats.rfc3339_extended);\n};\n\n/**\n * Format the current date using \"eee MMM dd yyyy HH:mm:ss xx (VV)\".\n * @return {string} The formatted date string.\n */\nexport function toString() {\n    return this.format(formats.string);\n};\n\n/**\n * Format the current date using \"HH:mm:ss xx (VV)\".\n * @return {string} The formatted date string.\n */\nexport function toTimeString() {\n    return this.format(formats.time);\n};\n\n/**\n * Format the current date in UTC timeZone using \"eee MMM dd yyyy HH:mm:ss xx (VV)\".\n * @return {string} The formatted date string.\n */\nexport function toUTCString() {\n    return this\n        .setLocale('en')\n        .setTimeZone('UTC')\n        .toString();\n};\n","import { getOffsetTime } from './../helpers.js';\nimport { minimumDays, weekDay } from './../formatter/utility.js';\nimport { dayOfYear } from './../static/utility.js';\n\n/**\n * DateTime Attributes (Get)\n */\n\n/**\n * Get the date of the month in current timeZone.\n * @return {number} The date of the month.\n */\nexport function getDate() {\n    return new Date(getOffsetTime(this)).getUTCDate();\n};\n\n/**\n * Get the day of the week in current timeZone.\n * @return {number} The day of the week. (0 - Sunday, 6 - Saturday)\n */\nexport function getDay() {\n    return new Date(getOffsetTime(this)).getUTCDay();\n};\n\n/**\n * Get the day of the year in current timeZone.\n * @return {number} The day of the year. (1, 366)\n */\nexport function getDayOfYear() {\n    return dayOfYear(\n        this.getYear(),\n        this.getMonth(),\n        this.getDate(),\n    );\n};\n\n/**\n * Get the hours of the day in current timeZone.\n * @return {number} The hours of the day. (0, 23)\n */\nexport function getHours() {\n    return new Date(getOffsetTime(this)).getUTCHours();\n};\n\n/**\n * Get the milliseconds in current timeZone.\n * @return {number} The milliseconds.\n */\nexport function getMilliseconds() {\n    return new Date(getOffsetTime(this)).getUTCMilliseconds();\n};\n\n/**\n * Get the minutes in current timeZone.\n * @return {number} The minutes. (0, 59)\n */\nexport function getMinutes() {\n    return new Date(getOffsetTime(this)).getUTCMinutes();\n};\n\n/**\n * Get the month in current timeZone.\n * @return {number} The month. (1, 12)\n */\nexport function getMonth() {\n    return new Date(getOffsetTime(this)).getUTCMonth() + 1;\n};\n\n/**\n * Get the quarter of the year in current timeZone.\n * @return {number} The quarter of the year. (1, 4)\n */\nexport function getQuarter() {\n    return Math.ceil(this.getMonth() / 3);\n};\n\n/**\n * Get the seconds in current timeZone.\n * @return {number} The seconds. (0, 59)\n */\nexport function getSeconds() {\n    return new Date(getOffsetTime(this)).getUTCSeconds();\n};\n\n/**\n * Get the number of seconds since the UNIX epoch.\n * @return {number} The number of seconds since the UNIX epoch.\n */\nexport function getTimestamp() {\n    return Math.floor(this.getTime() / 1000);\n};\n\n/**\n * Get the local week in current timeZone.\n * @return {number} The local week. (1, 53)\n */\nexport function getWeek() {\n    const thisWeek = this.startOf('day').setWeekDay(1);\n    const firstWeek = thisWeek.setWeek(1, 1);\n\n    return 1 +\n        (\n            (\n                (thisWeek - firstWeek) /\n                604800000\n            ) | 0\n        );\n};\n\n/**\n * Get the local day of the week in current timeZone.\n * @return {number} The local day of the week. (1 - 7)\n */\nexport function getWeekDay() {\n    return weekDay(\n        this.getLocale(),\n        this.getDay(),\n    );\n};\n\n/**\n * Get the week day in month in current timeZone.\n * @return {number} The week day in month.\n */\nexport function getWeekDayInMonth() {\n    const thisWeek = this.getWeek();\n    const first = this.setDate(1);\n    const firstWeek = first.getWeek();\n    const offset = first.getWeekDay() > this.getWeekDay() ?\n        0 : 1;\n    return firstWeek > thisWeek ?\n        thisWeek + offset :\n        thisWeek - firstWeek + offset;\n};\n\n/**\n * Get the week of month in current timeZone.\n * @return {number} The week of month.\n */\nexport function getWeekOfMonth() {\n    const thisWeek = this.getWeek();\n    const firstWeek = this.setDate(1).getWeek();\n    return firstWeek > thisWeek ?\n        thisWeek + 1 :\n        thisWeek - firstWeek + 1;\n};\n\n/**\n * Get the week year in current timeZone.\n * @return {number} The week year.\n */\nexport function getWeekYear() {\n    const minDays = minimumDays(this.getLocale());\n    return this.setWeekDay(7 - minDays + 1).getYear();\n};\n\n/**\n * Get the year in current timeZone.\n * @return {number} The year.\n */\nexport function getYear() {\n    return new Date(getOffsetTime(this)).getUTCFullYear();\n};\n","import DateTime from './../date-time.js';\nimport { getOffsetTime, setOffsetTime } from './../helpers.js';\nimport { config } from './../vars.js';\nimport { minimumDays } from './../formatter/utility.js';\nimport { daysInMonth } from './../static/utility.js';\n\n/**\n * DateTime Attributes (Set)\n */\n\n/**\n * Set the date of the month in current timeZone.\n * @param {number} date The date of the month.\n * @return {DateTime} The DateTime object.\n */\nexport function setDate(date) {\n    return setOffsetTime(\n        this,\n        new Date(getOffsetTime(this)).setUTCDate(date),\n    );\n};\n\n/**\n * Set the day of the week in current timeZone.\n * @param {number} day The day of the week. (0 - Sunday, 6 - Saturday)\n * @return {DateTime} The DateTime object.\n */\nexport function setDay(day) {\n    return setOffsetTime(\n        this,\n        new Date(getOffsetTime(this)).setUTCDate(\n            this.getDate() -\n            this.getDay() +\n            parseInt(day),\n        ),\n    );\n};\n\n/**\n * Set the day of the year in current timeZone.\n * @param {number} day The day of the year. (1, 366)\n * @return {DateTime} The DateTime object.\n */\nexport function setDayOfYear(day) {\n    return setOffsetTime(\n        this,\n        new Date(getOffsetTime(this)).setUTCMonth(\n            0,\n            day,\n        ),\n    );\n};\n\n/**\n * Set the hours in current timeZone (and optionally, minutes, seconds and milliseconds).\n * @param {number} hours The hours. (0, 23)\n * @param {number} [minutes] The minutes. (0, 59)\n * @param {number} [seconds] The seconds. (0, 59)\n * @param {number} [milliseconds] The milliseconds.\n * @return {DateTime} The DateTime object.\n */\nexport function setHours(...args) {\n    return setOffsetTime(\n        this,\n        new Date(getOffsetTime(this)).setUTCHours(...args),\n    );\n};\n\n/**\n * Set the milliseconds in current timeZone.\n * @param {number} milliseconds The milliseconds.\n * @return {DateTime} The DateTime object.\n */\nexport function setMilliseconds(milliseconds) {\n    return setOffsetTime(\n        this,\n        new Date(getOffsetTime(this)).setUTCMilliseconds(milliseconds),\n    );\n};\n\n/**\n * Set the minutes in current timeZone (and optionally, seconds and milliseconds).\n * @param {number} minutes The minutes. (0, 59)\n * @param {number} [seconds] The seconds. (0, 59)\n * @param {number} [milliseconds] The milliseconds.\n * @return {DateTime} The DateTime object.\n */\nexport function setMinutes(...args) {\n    return setOffsetTime(\n        this,\n        new Date(getOffsetTime(this)).setUTCMinutes(...args),\n    );\n};\n\n/**\n * Set the month in current timeZone (and optionally, date).\n * @param {number} month The month. (1, 12)\n * @param {number|null} [date] The date of the month.\n * @return {DateTime} The DateTime object.\n */\nexport function setMonth(month, date = null) {\n    if (date === null) {\n        date = this.getDate();\n\n        if (config.clampDates) {\n            date = Math.min(\n                date,\n                daysInMonth(\n                    this.getYear(),\n                    month,\n                ),\n            );\n        }\n    }\n\n    return setOffsetTime(\n        this,\n        new Date(getOffsetTime(this)).setUTCMonth(\n            month - 1,\n            date,\n        ),\n    );\n};\n\n/**\n * Set the quarter of the year in current timeZone.\n * @param {number} quarter The quarter of the year. (1, 4)\n * @return {DateTime} The DateTime object.\n */\nexport function setQuarter(quarter) {\n    return setOffsetTime(\n        this,\n        new Date(getOffsetTime(this)).setUTCMonth(\n            quarter * 3 -\n            3,\n        ),\n    );\n};\n\n/**\n * Set the seconds in current timeZone (and optionally, milliseconds).\n * @param {number} seconds The seconds. (0, 59)\n * @param {number} [milliseconds] The milliseconds.\n * @return {DateTime} The DateTime object.\n */\nexport function setSeconds(...args) {\n    return setOffsetTime(\n        this,\n        new Date(getOffsetTime(this)).setUTCSeconds(...args),\n    );\n};\n\n/**\n * Set the number of seconds since the UNIX epoch.\n * @param {number} timestamp The number of seconds since the UNIX epoch.\n * @return {DateTime} The DateTime object.\n */\nexport function setTimestamp(timestamp) {\n    return this.setTime(timestamp * 1000);\n};\n\n/**\n * Set the local day of the week in current timeZone (and optionally, day of the week).\n * @param {number} week The local week.\n * @param {number|null} [day] The local day of the week. (1 - 7)\n * @return {DateTime} The DateTime object.\n */\nexport function setWeek(week, day = null) {\n    if (day === null) {\n        day = this.getWeekDay();\n    }\n\n    const minDays = minimumDays(this.getLocale());\n    return this.setYear(this.getWeekYear(), 1, minDays + ((week - 1) * 7)).setWeekDay(day);\n};\n\n/**\n * Set the local day of the week in current timeZone.\n * @param {number} day The local day of the week. (1 - 7)\n * @return {DateTime} The DateTime object.\n */\nexport function setWeekDay(day) {\n    return setOffsetTime(\n        this,\n        new Date(getOffsetTime(this)).setUTCDate(\n            this.getDate() -\n            this.getWeekDay() +\n            parseInt(day),\n        ),\n    );\n};\n\n/**\n * Set the week day in month in current timeZone.\n * @param {number} week The week day in month.\n * @return {DateTime} The DateTime object.\n */\nexport function setWeekDayInMonth(week) {\n    return this.setDate(\n        this.getDate() +\n        (\n            week -\n            this.getWeekDayInMonth()\n        ) * 7,\n    );\n};\n\n/**\n * Set the week of month in current timeZone.\n * @param {number} week The week of month.\n * @return {DateTime} The DateTime object.\n */\nexport function setWeekOfMonth(week) {\n    return this.setDate(\n        this.getDate() +\n        (\n            week -\n            this.getWeekOfMonth()\n        ) * 7,\n    );\n};\n\n/**\n * Set the local day of the week in current timeZone (and optionally, week and day of the week).\n * @param {number} year The local year.\n * @param {number|null} [week] The local week.\n * @param {number|null} [day] The local day of the week. (1 - 7)\n * @return {DateTime} The DateTime object.\n */\nexport function setWeekYear(year, week = null, day = null) {\n    const minDays = minimumDays(this.getLocale());\n\n    if (week === null) {\n        week = Math.min(\n            this.getWeek(),\n            DateTime.fromArray([year, 1, minDays]).weeksInYear(),\n        );\n    }\n\n    if (day === null) {\n        day = this.getWeekDay();\n    }\n\n    return this.setYear(year, 1, minDays + ((week - 1) * 7)).setWeekDay(day);\n};\n\n/**\n * Set the year in current timeZone (and optionally, month and date).\n * @param {number} year The year.\n * @param {number|null} [month] The month. (1, 12)\n * @param {number|null} [date] The date of the month.\n * @return {DateTime} The DateTime object.\n */\nexport function setYear(year, month = null, date = null) {\n    if (month === null) {\n        month = this.getMonth();\n    }\n\n    if (date === null) {\n        date = this.getDate();\n\n        if (config.clampDates) {\n            date = Math.min(\n                date,\n                daysInMonth(\n                    this.getYear(),\n                    month,\n                ),\n            );\n        }\n    }\n\n    return setOffsetTime(\n        this,\n        new Date(getOffsetTime(this)).setUTCFullYear(\n            year,\n            month - 1,\n            date,\n        ),\n    );\n};\n"],"mappings":"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"}