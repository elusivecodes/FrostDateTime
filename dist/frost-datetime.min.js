!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=t():Object.assign(e,t())}(this,(function(){"use strict";class e{constructor(e){this.locale=e,this._minimumDays=this.constructor.getMinimumDays(this.locale),this._weekStartOffset=this.constructor.getWeekStartOffset(this.locale),this._data={}}formatDay(e,t="long",r=!0){return this.getDays(t,r)[e]}formatDayPeriod(e,t="long"){return this.getDayPeriods(t)[e]}formatEra(e,t="long"){return this.getEras(t)[e]}formatMonth(e,t="long",r=!0){return this.getMonths(t,r)[e-1]}formatNumber(e,t=0){const r=this.getNumbers();return`${e}`.padStart(t,0).replace(/\d/g,(e=>r[e]))}formatTimeZoneName(e,t,r="long"){return this._makeFormatter({second:"numeric",timeZone:t,timeZoneName:r}).formatToParts(e).find((e=>"timeZoneName"===e.type)).value}minimumDays(){return this._minimumDays}parseDay(e,t="long",r=!0){const s=this.getDays(t,r).indexOf(e)||7;return this.weekDay(s)}parseDayPeriod(e,t="long"){return this.getDayPeriods(t).indexOf(e)}parseEra(e,t="long"){return this.getEras(t).indexOf(e)}parseMonth(e,t="long",r=!0){return this.getMonths(t,r).indexOf(e)+1}parseNumber(e){const t=this.getNumbers();return parseInt(`${e}`.replace(/./g,(e=>t.indexOf(e))))}weekDay(e){return(7+parseInt(e)-this._weekStartOffset)%7||7}static formatOffset(e,t=!0,r=!1){const s=Math.abs(e/60|0),a=Math.abs(e%60),n=e>0?"-":"+",i=`${s}`.padStart(2,0),o=a||!r?`${a}`.padStart(2,0):"";return`${n}${i}${t&&o?":":""}${o}`}static getType(e){switch(e){case 5:return"narrow";case 4:return"long";default:return"short"}}static getMinimumDays(e){let t=1;const r=e.toLowerCase().split("-");for(;1===t&&r.length;){for(const e in this._minimumDays){if(this._minimumDays[e].includes(r.join("-"))){t=parseInt(e);break}}r.pop()}return t}static getWeekStartOffset(e){let t;const r=e.toLowerCase().split("-");for(;!t&&r.length;){for(const e in this._weekStart){if(this._weekStart[e].includes(r.join("-"))){t=parseInt(e);break}}r.pop()}return t?t-2:0}static load(e){return e in this._formatters||(this._formatters[e]=new this(e)),this._formatters[e]}static loadRelative(e){return!1 in Intl?null:(e in this._relativeFormatters||(this._relativeFormatters[e]=new Intl.RelativeTimeFormat(e,{numeric:"auto",style:"long"})),this._relativeFormatters[e])}}e._formatters={},e._relativeFormatters={},e._formatDate={G:{key:"era",maxLength:5,regex:(t,r)=>{const s=e.getType(r);return t.getEras(s).join("|")},input:(t,r,s)=>{const a=e.getType(s);return t.parseEra(r,a)},output:(t,r)=>{const s=e.getType(r);return t.era(s)}},y:{key:"year",regex:e=>e.numberRegExp(),input:(e,t,r)=>(t=e.parseNumber(t),2!==r||2!==`${t}`.length?t:t>40?1900+t:2e3+t),output:(e,t)=>{let r=e.getYear();return 2===t&&(r=`${r}`.slice(-2)),e.formatter.formatNumber(Math.abs(r),t)}},Y:{key:"weekYear",regex:e=>e.numberRegExp(),input:(e,t,r)=>(t=e.parseNumber(t),2!==r||2!==`${t}`.length?t:t>40?1900+t:2e3+t),output:(e,t)=>{let r=e.getWeekYear();return 2===t&&(r=`${r}`.slice(-2)),e.formatter.formatNumber(Math.abs(r),t)}},Q:{key:"quarter",regex:e=>e.numberRegExp(),input:(e,t)=>e.parseNumber(t),output:(e,t)=>e.formatter.formatNumber(e.getQuarter(),t)},q:{key:"quarter",regex:e=>e.numberRegExp(),input:(e,t)=>e.parseNumber(t),output:(e,t)=>e.formatter.formatNumber(e.getQuarter(),t)},M:{key:"month",regex:(t,r)=>{switch(r){case 5:case 4:case 3:const s=e.getType(r);return t.getMonths(s,!1).join("|");default:return t.numberRegExp()}},input:(t,r,s)=>{switch(s){case 5:return null;case 4:case 3:const a=e.getType(s);return t.parseMonth(r,a,!1);default:return t.parseNumber(r)}},output:(t,r)=>{const s=t.getMonth();switch(r){case 5:case 4:case 3:const a=e.getType(r);return t.formatter.formatMonth(s,a,!1);default:return t.formatter.formatNumber(s,r)}}},L:{key:"month",regex:(t,r)=>{switch(r){case 5:case 4:case 3:const s=e.getType(r);return t.getMonths(s).join("|");default:return t.numberRegExp()}},input:(t,r,s)=>{switch(s){case 5:return null;case 4:case 3:const a=e.getType(s);return t.parseMonth(r,a);default:return t.parseNumber(r)}},output:(t,r)=>{const s=t.getMonth();switch(r){case 5:case 4:case 3:const a=e.getType(r);return t.formatter.formatMonth(s,a);default:return t.formatter.formatNumber(s,r)}}},w:{key:"week",regex:e=>e.numberRegExp(),input:(e,t)=>e.parseNumber(t),output:(e,t)=>e.formatter.formatNumber(e.getWeek(),t)},W:{key:"weekOfMonth",regex:e=>e.numberRegExp(),input:(e,t)=>e.parseNumber(t),output:e=>e.formatter.formatNumber(e.getWeekOfMonth())},d:{key:"date",regex:e=>e.numberRegExp(),input:(e,t)=>e.parseNumber(t),output:(e,t)=>e.formatter.formatNumber(e.getDate(),t)},D:{key:"dayOfYear",regex:e=>e.numberRegExp(),input:(e,t)=>e.parseNumber(t),output:(e,t)=>e.formatter.formatNumber(e.getDayOfYear(),t)},F:{key:"weekDayInMonth",regex:e=>e.numberRegExp(),input:(e,t)=>e.parseNumber(t),output:e=>e.formatter.formatNumber(e.getWeekDayInMonth())},E:{key:"weekDay",regex:(t,r)=>{const s=e.getType(r);return t.getDays(s,!1).join("|")},input:(t,r,s)=>{if(5===s)return null;const a=e.getType(s);return t.parseDay(r,a,!1)},output:(t,r)=>{const s=e.getType(r),a=t.getDay();return t.formatter.formatDay(a,s,!1)}},e:{key:"weekDay",maxLength:5,regex:(t,r)=>{switch(r){case 5:case 4:case 3:const s=e.getType(r);return t.getDays(s,!1).join("|");default:return t.numberRegExp()}},input:(t,r,s)=>{switch(s){case 5:return null;case 4:case 3:const a=e.getType(s);return t.parseDay(r,a,!1);default:return t.parseNumber(r)}},output:(t,r)=>{switch(r){case 5:case 4:case 3:const s=e.getType(r),a=t.getDay();return t.formatter.formatDay(a,s,!1);default:const n=t.getWeekDay();return t.formatter.formatNumber(n,r)}}},c:{key:"weekDay",maxLength:5,regex:(t,r)=>{switch(r){case 5:case 4:case 3:const s=e.getType(r);return t.getDays(s).join("|");default:return t.numberRegExp()}},input:(t,r,s)=>{switch(s){case 5:return null;case 4:case 3:const a=e.getType(s);return t.parseDay(r,a);default:return t.parseNumber(r)}},output:(t,r)=>{switch(r){case 5:case 4:case 3:const s=e.getType(r),a=t.getDay();return t.formatter.formatDay(a,s);default:const n=t.getWeekDay();return t.formatter.formatNumber(n)}}},a:{key:"dayPeriod",regex:(t,r)=>{const s=e.getType(r);return t.getDayPeriods(s).join("|")},input:(t,r,s)=>{const a=e.getType(s);return t.parseDayPeriod(r,a)},output:(t,r)=>{const s=e.getType(r);return t.dayPeriod(s)}},h:{key:"hours12",regex:e=>e.numberRegExp(),input:(e,t)=>(12===(t=e.parseNumber(t))&&(t=0),t),output:(e,t)=>e.formatter.formatNumber(e.getHours()%12||12,t)},H:{key:"hours24",regex:e=>e.numberRegExp(),input:(e,t)=>e.parseNumber(t),output:(e,t)=>e.formatter.formatNumber(e.getHours(),t)},K:{key:"hours12",regex:e=>e.numberRegExp(),input:(e,t)=>e.parseNumber(t),output:(e,t)=>e.formatter.formatNumber(e.getHours()%12,t)},k:{key:"hours24",regex:e=>e.numberRegExp(),input:(e,t)=>(24===(t=e.parseNumber(t))&&(t=0),t),output:(e,t)=>e.formatter.formatNumber(e.getHours()||24,t)},m:{key:"minutes",regex:e=>e.numberRegExp(),input:(e,t)=>e.parseNumber(t),output:(e,t)=>e.formatter.formatNumber(e.getMinutes(),t)},s:{key:"seconds",regex:e=>e.numberRegExp(),input:(e,t)=>e.parseNumber(t),output:(e,t)=>e.formatter.formatNumber(e.getSeconds(),t)},S:{key:"milliseconds",regex:e=>e.numberRegExp(),input:e=>0,output:(e,t)=>e.formatter.formatNumber(`${Math.floor(1e3*(e.getMilliseconds()+e._fraction))}`.padEnd(t,"0").slice(0,t))},z:{output:(t,r)=>{5===r&&(r=1);const s=e.getType(r);return t.timeZoneName(s)}},Z:{key:"timeZone",regex:(e,t)=>{switch(t){case 5:return"[\\+\\-]\\d{2}\\:\\d{2}|Z";case 4:return"GMT[\\+\\-]\\d{2}\\:\\d{2}|GMT";default:return"[\\+\\-]\\d{4}"}},input:(e,t)=>t,output:(t,r)=>{const s=t.getTimeZoneOffset();let a=!0,n="";switch(r){case 5:if(!s)return"Z";break;case 4:if(n="GMT",!s)return n;break;default:a=!1}return n+e.formatOffset(s,a)}},O:{key:"timeZone",regex:(e,t)=>{switch(t){case 4:return"GMT[\\+\\-]\\d{2}\\:\\d{2}|GMT";default:return"GMT[\\+\\-]\\d{2}|GMT"}},input:(e,t)=>t,output:(t,r)=>{const s=t.getTimeZoneOffset();if(!s)return"GMT";let a=!1;switch(r){case 4:break;default:a=!0}return"GMT"+e.formatOffset(s,!0,a)}},V:{key:"timeZone",regex:e=>"([a-zA-Z_/]+)",input:(e,t)=>t,output:e=>e.getTimeZone()},X:{key:"timeZone",regex:(e,t)=>{switch(t){case 5:case 3:return"[\\+\\-]\\d{2}\\:\\d{2}|Z";case 4:case 2:return"[\\+\\-]\\d{4}|Z";default:return"[\\+\\-]\\d{2}(?:\\d{2})?|Z"}},input:(e,t)=>t,output:(t,r)=>{const s=t.getTimeZoneOffset();if(!s)return"Z";let a;switch(r){case 5:case 3:a=!0;break;default:a=!1}return e.formatOffset(s,a,1===r)}},x:{key:"timeZone",regex:(e,t)=>{switch(t){case 5:case 3:return"[\\+\\-]\\d{2}\\:\\d{2}";case 4:case 2:return"[\\+\\-]\\d{4}";default:return"[\\+\\-]\\d{2}(?:\\d{2})?"}},input:(e,t)=>t,output:(t,r)=>{let s;switch(r){case 5:case 3:s=!0;break;default:s=!1}return e.formatOffset(t.getTimeZoneOffset(),s,1===r)}}},e._weekStart={1:["af","am","ar-il","ar-sa","ar-ye","as","bn","bo","brx","ccp","ceb","chr","dav","dz","ebu","en","fil","gu","guz","haw","he","hi","id","ii","ja","jv","kam","ki","kln","km","kn","ko","kok","ks","lkt","lo","luo","luy","mas","mer","mgh","ml","mr","mt","my","nd","ne","om","or","pa","ps-pk","pt","qu","saq","sd","seh","sn","ta","te","th","ti","ug","ur","xh","yue","zh","zu"],7:["ar","ckb","en-ae","en-sd","fa","kab","lrc","mzn","ps"]},e._minimumDays={4:["ast","bg","br","ca","ce","cs","cy","da","de","dsb","el","en-at","en-be","en-ch","en-de","en-dk","en-fi","en-fj","en-gb","en-gg","en-gi","en-ie","en-im","en-je","en-nl","en-se","es","et","eu","fi","fo","fr","fur","fy","ga","gd","gl","gsw","gv","hsb","hu","is","it","ksh","kw","lb","lt","nb","nds","nl","nn","os-ru","pl","pt-ch","pt-lu","pt-pt","rm","ru","sah","se","sk","smn","sv","tt","wae"]},Object.assign(e.prototype,{_getData(e,t){return e in this._data||(this._data[e]=t()),this._data[e]},_makeFormatter(e){return new Intl.DateTimeFormat(this.locale,{timeZone:"UTC",...e})}}),Object.assign(e.prototype,{getDayPeriods(e="long"){return this._getData(`periods[${e}]`,(t=>{const r=this._makeFormatter({hour:"numeric",hourCycle:"h11",dayPeriod:e});return new Array(2).fill().map(((e,t)=>r.formatToParts(Date.UTC(2018,0,1,12*t)).find((e=>"dayPeriod"===e.type)).value))}))},getDays(e="long",t=!0){return this._getData(`days[${t}][${e}]`,(r=>{if(t){const t=this._makeFormatter({weekday:e});return new Array(7).fill().map(((e,r)=>t.format(Date.UTC(2018,0,r))))}const s=this._makeFormatter({year:"numeric",month:"numeric",day:"numeric",weekday:e});return new Array(7).fill().map(((e,t)=>s.formatToParts(Date.UTC(2018,0,t)).find((e=>"weekday"===e.type)).value))}))},getEras(e="long"){return this._getData(`eras[${e}]`,(t=>{const r=this._makeFormatter({era:e});return new Array(2).fill().map(((e,t)=>r.formatToParts(Date.UTC(t-1,0,1)).find((e=>"era"===e.type)).value))}))},getMonths(e="long",t=!0){return this._getData(`months[${t}][${e}]`,(r=>{if(t){const t=this._makeFormatter({month:e});return new Array(12).fill().map(((e,r)=>t.format(Date.UTC(2018,r,1))))}const s=this._makeFormatter({year:"numeric",month:e,day:"numeric"});return new Array(12).fill().map(((e,t)=>s.formatToParts(Date.UTC(2018,t,1)).find((e=>"month"===e.type)).value))}))},getNumbers(){return this._getData("numbers",(e=>{const t=this._makeFormatter({minute:"numeric"});return new Array(10).fill().map(((e,r)=>t.format(Date.UTC(2018,0,1,0,r))))}))},numberRegExp(){return`(?:${this.getNumbers().join("|")})+`}});class t{constructor(t=null,r={}){let s,a=!1;if(null===t)s=Date.now();else{if(t!==`${t}`)throw new Error("Invalid date supplied");if(s=Date.parse(t),isNaN(s))throw new Error("Invalid date string supplied");t.match(this.constructor._dateStringTimeZoneRegExp)||(s-=6e4*(new Date).getTimezoneOffset()),a=!0}this._utcDate=new Date(s),this._fraction=0,this._dynamicTz=!1,this.isValid=!0;let n=r.timeZone;n||(n=this.constructor._defaultTimeZone),["Z","GMT"].includes(n)&&(n="UTC");const i=n.match(this.constructor._offsetRegExp);i?(this._offset=60*i[2]+parseInt(i[4]||0),this._offset&&"+"===i[1]&&(this._offset*=-1),this._offset?this._timeZone=e.formatOffset(this._offset):(this._dynamicTz=!0,this._timeZone="UTC")):(this._dynamicTz=!0,this._timeZone=n),this._dynamicTz&&(this._makeFormatter(),this._checkOffset()),a&&this._adjustOffset(),"locale"in r||(r.locale=this.constructor._defaultLocale),this.formatter=e.load(r.locale),this.relativeFormatter=e.loadRelative(r.locale)}valueOf(){return this.getTime()}[Symbol.toPrimitive](e){return"number"===e?this.valueOf():this.toString()}}return Object.assign(t.prototype,{getDate(){return new Date(this._getOffsetTime()).getUTCDate()},getDay(){return new Date(this._getOffsetTime()).getUTCDay()},getDayOfYear(){return this.constructor.dayOfYear(this.getYear(),this.getMonth(),this.getDate())},getHours(){return new Date(this._getOffsetTime()).getUTCHours()},getLocale(){return this.formatter.locale},getMilliseconds(){return new Date(this._getOffsetTime()).getUTCMilliseconds()},getMinutes(){return new Date(this._getOffsetTime()).getUTCMinutes()},getMonth(){return new Date(this._getOffsetTime()).getUTCMonth()+1},getQuarter(){return Math.ceil(this.getMonth()/3)},getSeconds(){return new Date(this._getOffsetTime()).getUTCSeconds()},getTime(){return this._utcDate.getTime()},getTimestamp(){return Math.floor(this.getTime()/1e3)},getTimeZone(){return this._timeZone},getTimeZoneOffset(){return this._offset},getWeek(){const e=this.clone().startOf("day").setWeekDay(1),t=e.clone().setWeek(1,1);return 1+((e-t)/6048e5|0)},getWeekDay(){return this.formatter.weekDay(this.getDay())},getWeekDayInMonth(){const e=this.getWeek(),t=this.clone().setDate(1),r=t.getWeek(),s=t.getWeekDay()>this.getWeekDay()?0:1;return r>e?e+s:e-r+s},getWeekOfMonth(){const e=this.getWeek();let t=this.clone().setDate(1).getWeek();return t>e?e+1:e-t+1},getWeekYear(){const e=this.formatter.minimumDays();return this.clone().setWeekDay(7-e+1).getYear()},getYear(){return new Date(this._getOffsetTime()).getUTCFullYear()}}),Object.assign(t.prototype,{setDate(e){return this._setOffsetTime(new Date(this._getOffsetTime()).setUTCDate(e))},setDay(e){return this._setOffsetTime(new Date(this._getOffsetTime()).setUTCDate(this.getDate()-this.getDay()+parseInt(e)))},setDayOfYear(e){return this._setOffsetTime(new Date(this._getOffsetTime()).setUTCMonth(0,e))},setHours(...e){return this._setOffsetTime(new Date(this._getOffsetTime()).setUTCHours(...e))},setLocale(t){return this.formatter=e.load(t),this.relativeFormatter=e.loadRelative(t),this},setMilliseconds(e){return this._setOffsetTime(new Date(this._getOffsetTime()).setUTCMilliseconds(e))},setMinutes(...e){return this._setOffsetTime(new Date(this._getOffsetTime()).setUTCMinutes(...e))},setMonth(e,t=null){return null===t&&(t=this.getDate(),this.constructor._clampDates&&(t=Math.min(t,this.constructor.daysInMonth(this.getYear(),e)))),this._setOffsetTime(new Date(this._getOffsetTime()).setUTCMonth(e-1,t))},setQuarter(e){return this._setOffsetTime(new Date(this._getOffsetTime()).setUTCMonth(3*e-3))},setSeconds(...e){return this._setOffsetTime(new Date(this._getOffsetTime()).setUTCSeconds(...e))},setTime(e){return this._utcDate.setTime(e),this._dynamicTz&&this._checkOffset(),this},setTimestamp(e){return this.setTime(1e3*e)},setTimeZone(t){["Z","GMT"].includes(t)&&(t="UTC"),this._dynamicTz=!1;const r=t.match(this.constructor._offsetRegExp);return r?(this._offset=60*r[2]+parseInt(r[4]||0),this._offset&&"+"===r[1]&&(this._offset*=-1),this._offset?this._timeZone=e.formatOffset(this._offset):(this._dynamicTz=!0,this._timeZone="UTC")):(this._dynamicTz=!0,this._timeZone=t),this._dynamicTz&&(this._makeFormatter(),this._checkOffset()),this},setTimeZoneOffset(t){return this._dynamicTz=!1,this._offset=t||0,this._timeZone=e.formatOffset(this._offset),this._formatter=null,this},setWeek(e,t=null){null===t&&(t=this.getWeekDay());const r=this.formatter.minimumDays();return this.setYear(this.getWeekYear(),1,r+7*(e-1)).setWeekDay(t)},setWeekDay(e){return this._setOffsetTime(new Date(this._getOffsetTime()).setUTCDate(this.getDate()-this.getWeekDay()+parseInt(e)))},setWeekDayInMonth(e){return this.setDate(this.getDate()+7*(e-this.getWeekDayInMonth()))},setWeekOfMonth(e){return this.setDate(this.getDate()+7*(e-this.getWeekOfMonth()))},setWeekYear(e,r=null,s=null){const a=this.formatter.minimumDays();return null===r&&(r=Math.min(this.getWeek(),t.fromArray([e,1,a]).weeksInYear())),null===s&&(s=this.getWeekDay()),this.setYear(e,1,a+7*(r-1)).setWeekDay(s)},setYear(e,t=null,r=null){return null===t&&(t=this.getMonth()),this.constructor._clampDates&&null===r&&(r=Math.min(this.getDate(),this.constructor.daysInMonth(e,t))),this._setOffsetTime(new Date(this._getOffsetTime()).setUTCFullYear(e,t-1,r))}}),Object.assign(t.prototype,{_adjustOffset(){if(!this._offset)return;const e=this._offset;this._utcDate.setTime(this.getTime()+6e4*this._offset),this._dynamicTz&&(this._checkOffset(),e!==this._offset&&this._utcDate.setTime(this._utcDate.getTime()-6e4*(e-this._offset)))},_checkOffset(){this._offset="UTC"===this._timeZone?0:(new Date(this.constructor._utcFormatter.format(this))-new Date(this._formatter.format(this)))/6e4},_compensateDiff(e,t,r=!0,s=1){return e>0?(e=Math.floor(e),r&&this<t&&(e+=s)):e<0&&(e=Math.ceil(e),r&&this>t&&(e-=s)),e},_getBiggestDiff(e){const t={month:12,day:Math.min(this.daysInMonth(),e.daysInMonth()),hour:24,minute:60,second:60};let r;for(const s of["year","month","day","hour","minute","second"]){const a=this.diff(e,s);if(r&&Math.abs(a)>=t[s])return r;if(this.diff(e,s,!1))return[a,s];r=a?[a,s]:null}return r||[0,"second"]},_getOffsetTime(){return this.getTime()-6e4*this._offset},_makeFormatter(){this._formatter=new Intl.DateTimeFormat(this.constructor._formatterLocale,{...this.constructor._formatterOptions,timeZone:this.getTimeZone()})},_modify(e,t){switch(t=t.toLowerCase()){case"second":case"seconds":return this.setSeconds(this.getSeconds()+e);case"minute":case"minutes":return this.setMinutes(this.getMinutes()+e);case"hour":case"hours":return this.setHours(this.getHours()+e);case"week":case"weeks":return this.setDate(this.getDate()+7*e);case"day":case"days":return this.setDate(this.getDate()+e);case"month":case"months":return this.setMonth(this.getMonth()+e);case"year":case"years":return this.setYear(this.getYear()+e);default:throw new Error("Invalid time unit supplied")}},_setOffsetTime(e){return this.setTime(e+6e4*this._offset)}}),Object.assign(t.prototype,{add(e,t){return this._modify(e,t)},endOf(e){switch(e=e.toLowerCase()){case"second":return this.setMilliseconds(999);case"minute":return this.setSeconds(59,999);case"hour":return this.setMinutes(59,59,999);case"day":return this.setHours(23,59,59,999);case"week":return this.setWeekDay(7).setHours(23,59,59,999);case"month":return this.setDate(this.daysInMonth()).setHours(23,59,59,999);case"quarter":const e=3*this.getQuarter();return this.setMonth(e,this.constructor.daysInMonth(this.getYear(),e)).setHours(23,59,59,999);case"year":return this.setMonth(12,31).setHours(23,59,59,999);default:throw new Error("Invalid time unit supplied")}},startOf(e){switch(e=e.toLowerCase()){case"second":return this.setMilliseconds(0);case"minute":return this.setSeconds(0,0);case"hour":return this.setMinutes(0,0,0);case"day":return this.setHours(0,0,0,0);case"week":return this.setWeekDay(1).setHours(0,0,0,0);case"month":return this.setDate(1).setHours(0,0,0,0);case"quarter":const e=3*this.getQuarter()-2;return this.setMonth(e,1).setHours(0,0,0,0);case"year":return this.setMonth(1,1).setHours(0,0,0,0);default:throw new Error("Invalid time unit supplied")}},sub(e,t){return this._modify(-e,t)}}),Object.assign(t.prototype,{format(t){let r,s="";for(;t&&(r=t.match(this.constructor._formatTokenRegExp));){const a=r[1],n=r.index,i=r[0].length;if(n&&(s+=t.substring(0,n)),t=t.substring(n+i),a){if(!(a in e._formatDate))throw new Error(`Invalid token in DateTime format: ${a}`);s+=e._formatDate[a].output(this,i)}else s+=r[0].slice(1,-1)}return s+=t,s},toDateString(){return this.format(this.constructor.formats.date)},toISOString(){return this.constructor.fromDate(this._utcDate,{locale:"en",timeZone:"UTC"}).format(this.constructor.formats.rfc3339_extended)},toString(){return this.format(this.constructor.formats.string)},toTimeString(){return this.format(this.constructor.formats.time)},toUTCString(){return this.constructor.fromDate(this._utcDate,{locale:this.getLocale(),timeZone:"UTC"}).toString()}}),Object.assign(t.prototype,{clone(){const e=this.constructor.fromTimestamp(this.getTimestamp(),{locale:this.getLocale(),timeZone:this.getTimeZone()}),t=this.getMilliseconds();return t?e.setMilliseconds(t):e},dayName(e="long"){return this.formatter.formatDay(this.getDay(),e)},dayPeriod(e="long"){return this.formatter.formatDayPeriod(this.getHours()<12?0:1,e)},daysInMonth(){return this.constructor.daysInMonth(this.getYear(),this.getMonth())},daysInYear(){return this.constructor.daysInYear(this.getYear())},diff(e,t,r=!0){if(e||(e=new this.constructor),!t)return this-e;switch(t&&(t=t.toLowerCase()),e=e.clone().setTimeZone(this.getTimeZone()),t){case"year":case"years":return this._compensateDiff(this.getYear()-e.getYear(),e.setYear(this.getYear()),!r,-1);case"month":case"months":return this._compensateDiff(12*(this.getYear()-e.getYear())+this.getMonth()-e.getMonth(),e.setYear(this.getYear(),this.getMonth()),!r,-1);case"day":case"days":return this._compensateDiff((this-e)/864e5,e.setYear(this.getYear(),this.getMonth(),this.getDate()),r);case"hour":case"hours":return this._compensateDiff((this-e)/36e5,e.setYear(this.getYear(),this.getMonth(),this.getDate()).setHours(this.getHours()),r);case"minute":case"minutes":return this._compensateDiff((this-e)/6e4,e.setYear(this.getYear(),this.getMonth(),this.getDate()).setHours(this.getHours(),this.getMinutes()),r);case"second":case"seconds":return this._compensateDiff((this-e)/1e3,e.setYear(this.getYear(),this.getMonth(),this.getDate()).setHours(this.getHours(),this.getMinutes(),this.getSeconds()),r);default:throw new Error("Invalid time unit supplied")}},era(e="long"){return this.formatter.formatEra(this.getYear()<0?0:1,e)},humanDiff(e,t){if(!this.relativeFormatter)throw new Error("RelativeTimeFormat not supported");let r;return e||(e=new this.constructor),t?r=this.diff(e,t):[r,t]=this._getBiggestDiff(e),this.relativeFormatter.format(r,t)},isAfter(e,t){return this.diff(e,t)>0},isBefore(e,t){return this.diff(e,t)<0},isBetween(e,t,r){return this.diff(e,r)>0&&this.diff(t,r)<0},isDST(){if(!this._dynamicTz)return!1;const e=this.getYear(),r=t.fromArray([e,1,1],{timeZone:this.getTimeZone()}),s=t.fromArray([e,6,1],{timeZone:this.getTimeZone()});return this._offset<Math.max(r._offset,s._offset)},isLeapYear(){return this.constructor.isLeapYear(this.getYear())},isSame(e,t){return 0===this.diff(e,t)},isSameOrAfter(e,t){return this.diff(e,t)>=0},isSameOrBefore(e,t){return this.diff(e,t)<=0},monthName(e="long"){return this.formatter.formatMonth(this.getMonth(),e)},timeZoneName(t="long"){return this._dynamicTz?this.formatter.formatTimeZoneName(this._utcDate,this.getTimeZone(),t):"GMT"+e.formatOffset(this.getTimeZoneOffset(),!0,"short"===t)},weeksInYear(){const e=this.formatter.minimumDays();return this.clone().setMonth(12,24+e).getWeek()}}),Object.assign(t,{fromArray(e,t={}){const r=e.slice(0,3),s=e.slice(3);return r.length<3&&r.push(...new Array(3-r.length).fill(1)),s.length<4&&s.push(...new Array(4-s.length).fill(0)),new this(null,t).setTimestamp(0).setYear(...r).setHours(...s)},fromDate(e,t={}){return new this(null,t).setTime(e.getTime())},fromFormat(t,r,s={}){"locale"in s||(s.locale=this._defaultLocale);const a=e.load(s.locale),n=[];let i;for(;t&&(i=t.match(this._formatTokenRegExp));){const s=i[1],o=i.index,u=i[0].length;if(o){const e=t.substring(0,o);this._parseCompare(e,r)}if(t=t.substring(o+u),r=r.substring(o),!s){const e=i[0].slice(1,-1);this._parseCompare(e||"'",r),r=r.substring(e.length);continue}if(!(s in e._formatDate))throw new Error(`Invalid token in DateTime format: ${s}`);const m=e._formatDate[s].regex(a,u),h=r.match(new RegExp(`^${m}`));if(!h)throw new Error(`Unmatched token in DateTime string: ${s}`);const f=h[0],c=e._formatDate[s].input(a,f,u);if(null!==c){const t=e._formatDate[s].key;n.push({key:t,value:c,literal:f,token:s,length:u})}r=r.substring(f.length)}t&&this._parseCompare(t,r),"timeZone"in s||(s.timeZone=this._defaultTimeZone);let o=s.timeZone;for(const{key:e,value:t}of n)"timeZone"===e&&(o=t);let u=this.fromTimestamp(0,{locale:s.locale}).setYear(1).setTimeZone(o);const m=this._parseFactory(),h=[];for(const e of this._parseOrderKeys)for(const t of e)if("era"!==t||n.find((e=>"year"===e.key)))for(const e of n){const{key:r,value:s,literal:a,token:n,length:i}=e;if(r===t){if(5===i&&["M","L","E","e","c"].includes(n)){const e=n.repeat(i);if(u.format(e)===a)continue}u=m[r].set(u,s),h.push(e)}}let f=!0;for(const{key:e,value:t}of h)if(e in m&&m[e].get(u)!==t){f=!1;break}return s.timeZone!==o&&(u=u.setTimeZone(s.timeZone)),u.isValid=f,u},fromISOString(e,t={}){let r=this.fromFormat(this.formats.rfc3339_extended,e,{locale:"en"});return"timeZone"in t&&(r=r.setTimeZone(t.timeZone)),"locale"in t&&(r=r.setLocale(t.locale)),r},fromTimestamp(e,t={}){return new this(null,t).setTimestamp(e)},now(e={}){return new this(null,e)}}),Object.assign(t,{_parseCompare(e,t){let r=0;for(const s of e){if(s!==t[r])throw new Error(`Unmatched character in DateTime string: ${s}`);r++}},_parseFactory(){let e=!1,t=!0;return{date:{get:e=>e.getDate(),set:(e,t)=>e.setDate(t)},dayPeriod:{get:e=>e.getHours()<12?0:1,set:(r,s)=>{e=s;let a=s?12:0;return t&&(a+=r.getHours()),r.setHours(a)}},dayOfYear:{get:e=>e.getDayOfYear(),set:(e,t)=>e.setDayOfYear(t)},era:{get:e=>e.getYear()<1?0:1,set:(e,t)=>{const r=t?1:-1;return e.setYear(e.getYear()*r)}},hours12:{get:e=>e.getHours()%12,set:(r,s)=>(e&&(s+=12),t=!0,r.setHours(s))},hours24:{get:e=>e.getHours(),set:(e,r)=>(t=!1,e.setHours(r))},milliseconds:{get:e=>e.getMilliseconds(),set:(e,t)=>e.setMilliseconds(t)},minutes:{get:e=>e.getMinutes(),set:(e,t)=>e.setMinutes(t)},month:{get:e=>e.getMonth(),set:(e,t)=>e.setMonth(t)},quarter:{get:e=>e.getQuarter(),set:(e,t)=>e.setQuarter(t)},seconds:{get:e=>e.getSeconds(),set:(e,t)=>e.setSeconds(t)},week:{get:e=>e.getWeek(),set:(e,t)=>e.setWeek(t)},weekDay:{get:e=>e.getWeekDay(),set:(e,t)=>e.setWeekDay(t)},weekDayInMonth:{get:e=>e.getWeekDayInMonth(),set:(e,t)=>e.setWeekDayInMonth(t)},weekOfMonth:{get:e=>e.getWeekOfMonth(),set:(e,t)=>e.setWeekOfMonth(t)},weekYear:{get:e=>e.getWeekYear(),set:(e,t)=>e.setWeekYear(t)},year:{get:e=>{const t=e.getYear();return Math.abs(t)},set:(e,t)=>e.setYear(t)}}}}),Object.assign(t,{dayOfYear(e,t,r){return new Array(t-1).fill().reduce(((t,r,s)=>t+this.daysInMonth(e,s+1)),r)},daysInMonth(e,t){const r=new Date(Date.UTC(e,t-1));return t=r.getUTCMonth(),this._monthDays[t]+(1==t&&this.isLeapYear(r.getUTCFullYear())?1:0)},daysInYear(e){return this.isLeapYear(e)?366:365},isLeapYear:e=>29===new Date(e,1,29).getDate(),setDateClamping(e){this._clampDates=e},setDefaultLocale(e){this._defaultLocale=e},setDefaultTimeZone(e){this._defaultTimeZone=e}}),Object.assign(t,{formats:{atom:"yyyy-MM-dd'T'HH:mm:ssxxx",cookie:"eeee, dd-MMM-yyyy HH:mm:ss ZZZZ",date:"eee MMM dd yyyy",iso8601:"yyyy-MM-dd'T'HH:mm:ssxx",rfc822:"eee, dd MMM yy HH:mm:ss xx",rfc850:"eeee dd-MMM-yy HH:mm:ss ZZZZ",rfc1036:"eee, dd MMM yy HH:mm:ss xx",rfc1123:"eee, dd MMM yyyy HH:mm:ss xx",rfc2822:"eee, dd MMM yyyy HH:mm:ss xx",rfc3339:"yyyy-MM-dd'T'HH:mm:ssxxx",rfc3339_extended:"yyyy-MM-dd'T'HH:mm:ss.SSSxxx",rss:"eee, dd MMM yyyy HH:mm:ss xx",string:"eee MMM dd yyyy HH:mm:ss xx (VV)",time:"HH:mm:ss xx (VV)",w3c:"yyyy-MM-dd'T'HH:mm:ssxxx"},_clampDates:!0,_defaultLocale:Intl.DateTimeFormat().resolvedOptions().locale,_defaultTimeZone:Intl.DateTimeFormat().resolvedOptions().timeZone,_formatterLocale:"en",_formatterOptions:{timeZone:"UTC",hourCycle:"h23",year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"},_monthDays:[31,28,31,30,31,30,31,31,30,31,30,31],_seperators:[";",":","/",".",",","-","(",")"],_dateStringTimeZoneRegExp:/\s(?:UTC|GMT|Z|[\+\-]\d)|\d{4}\-\d{2}\-\d{2}T\d{2}\:\d{2}\:\d{2}\.\d{3}[\+\-]\d{2}\:\d{2}/i,_formatTokenRegExp:/([a-z])\1*|'[^']*'/i,_offsetRegExp:/(?:GMT)?([\+\-])(\d{2})(\:?)(\d{2})?/,_parseOrderKeys:[["year","weekYear"],["era"],["quarter","month","week","dayOfYear"],["weekOfMonth"],["date","weekDay"],["weekDayInMonth"],["hours24","hours12","dayPeriod"],["minutes","seconds","milliseconds"]]}),t._utcFormatter=new Intl.DateTimeFormat(t._formatterLocale,t._formatterOptions),{DateFormatter:e,DateTime:t,DateTimeImmutable:class extends t{setLocale(e){return this.constructor.fromDate(this._utcDate,{locale:e,timeZone:this.getTimeZone()})}setTime(e){const t=new this.constructor(null,{locale:this.getLocale(),timeZone:this.getTimeZone()});return t._utcDate.setTime(e),t._dynamicTz&&t._checkOffset(),t}setTimeZone(e){return this.constructor.fromDate(this._utcDate,{locale:this.getLocale(),timeZone:e})}setTimeZoneOffset(t){return this.constructor.fromDate(this._utcDate,{locale:this.getLocale(),timeZone:e.formatOffset(t)})}}}}));